2025-11-12 07:44:54.733 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 07:44:54.917 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 07:44:54.938 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 07:44:54.954 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 07:44:55.334 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 07:44:55.832 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 07:44:56.495 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 07:44:57.052 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 07:44:57.055 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 07:44:57.284 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 07:44:57.287 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 07:44:57.290 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 07:44:57.374 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 07:44:57.380 +02:00 [INF] Hosting environment: Development
2025-11-12 07:44:57.383 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 07:44:57.411 +02:00 [INF] Server desktop-8dbdubg:27604:70bacb09 successfully announced in 41.2377 ms
2025-11-12 07:44:57.438 +02:00 [INF] Server desktop-8dbdubg:27604:70bacb09 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 07:44:57.527 +02:00 [INF] 4 servers were removed due to timeout
2025-11-12 07:44:57.741 +02:00 [INF] Server desktop-8dbdubg:27604:70bacb09 all the dispatchers started
2025-11-12 07:44:58.561 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 07:44:58.561 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 07:44:58.627 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 92.6621ms
2025-11-12 07:44:58.726 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 193.4163ms
2025-11-12 07:44:58.769 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 07:44:58.872 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 104.5005ms
2025-11-12 07:45:09.014 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 07:45:09.275 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 07:45:09.341 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 07:45:35.959 +02:00 [ERR] Execution DelayedJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
Operation cancelled by user.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.DelayedJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 411
   at Hangfire.Server.DelayedJobScheduler.EnqueueNextScheduledJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 167
   at Hangfire.Server.DelayedJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 148
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:b09be152-1291-4ca1-81e6-f03ceff7dddd
Error Number:-2,State:0,Class:11
2025-11-12 07:45:40.976 +02:00 [ERR] Execution RecurringJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
Operation cancelled by user.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.RecurringJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 423
   at Hangfire.Server.RecurringJobScheduler.EnqueueNextRecurringJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 203
   at Hangfire.Server.RecurringJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 176
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:36e1c246-8129-4271-b64d-54310bc30afc
Error Number:-2,State:0,Class:11
2025-11-12 07:45:44.823 +02:00 [ERR] Failed executing DbCommand (35,055ms) [Parameters=[@__request_Username_0='?' (Size = 100), @__request_Password_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[UserName] = @__request_Username_0 AND [u].[Password] = @__request_Password_1
2025-11-12 07:45:44.865 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:922c2c90-cdfe-4a02-bcd8-97fe8de0fb2e
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:922c2c90-cdfe-4a02-bcd8-97fe8de0fb2e
Error Number:-2,State:0,Class:11
2025-11-12 07:45:45.084 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 35728.0446ms
2025-11-12 07:45:45.093 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 07:45:45.111 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 62
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 40
   at lambda_method36(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:922c2c90-cdfe-4a02-bcd8-97fe8de0fb2e
Error Number:-2,State:0,Class:11
2025-11-12 07:45:45.239 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 500 null text/plain; charset=utf-8 36226.4342ms
2025-11-12 07:45:47.660 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 07:45:47.680 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 07:45:47.684 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 07:46:02.473 +02:00 [WRN] Server desktop-8dbdubg:27604:70bacb09 encountered an exception while sending heartbeat
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527
   at Hangfire.SqlServer.SqlServerConnection.<>c.<Heartbeat>b__23_0(SqlServerStorage storage, DbConnection connection, String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 553
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerConnection.Heartbeat(String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 548
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
ClientConnectionId:988de88c-8a87-4481-a717-675e2ef3662a
Error Number:-2,State:0,Class:11
2025-11-12 07:46:06.340 +02:00 [ERR] Execution Worker is in the Failed state now due to an exception, execution will be retried in no more than 00:00:04
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Hangfire.SqlServer.SqlServerJobQueue.<>c.<FetchJob>b__14_0(SqlServerStorage storage, DbConnection connection, String[] queues) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 179
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerJobQueue.FetchJob(String[] queues) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 169
   at Hangfire.SqlServer.SqlServerJobQueue.DequeueUsingSlidingInvisibilityTimeout(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 143
   at Hangfire.SqlServer.SqlServerJobQueue.Dequeue(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 67
   at Hangfire.SqlServer.SqlServerConnection.FetchNextJob(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 81
   at Hangfire.Server.Worker.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\Worker.cs:line 107
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:ac70b970-df0f-46bb-adcd-2d80f280b5f2
Error Number:-2,State:0,Class:11
2025-11-12 07:46:22.816 +02:00 [ERR] Failed executing DbCommand (35,037ms) [Parameters=[@__request_Username_0='?' (Size = 100), @__request_Password_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[UserName] = @__request_Username_0 AND [u].[Password] = @__request_Password_1
2025-11-12 07:46:22.825 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:948dd25a-654e-48b7-92a3-ead5b2c88032
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:948dd25a-654e-48b7-92a3-ead5b2c88032
Error Number:-2,State:0,Class:11
2025-11-12 07:46:23.013 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 35322.1738ms
2025-11-12 07:46:23.021 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 07:46:23.028 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 62
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 40
   at lambda_method36(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:948dd25a-654e-48b7-92a3-ead5b2c88032
Error Number:-2,State:0,Class:11
2025-11-12 07:46:23.065 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 500 null text/plain; charset=utf-8 35405.2884ms
2025-11-12 07:46:24.991 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 07:46:25.010 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 07:46:25.016 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 07:46:52.858 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 07:46:53.032 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 07:46:53.066 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 07:46:53.084 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 07:46:53.150 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 07:46:53.672 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 07:46:54.224 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 07:46:54.659 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 07:46:54.662 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 07:46:54.880 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 07:46:54.883 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 07:46:54.885 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 07:46:54.946 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 07:46:54.950 +02:00 [INF] Hosting environment: Development
2025-11-12 07:46:54.953 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 07:46:54.985 +02:00 [INF] Server desktop-8dbdubg:29544:c0e60be5 successfully announced in 42.5329 ms
2025-11-12 07:46:55.049 +02:00 [INF] Server desktop-8dbdubg:29544:c0e60be5 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 07:46:55.311 +02:00 [INF] Server desktop-8dbdubg:29544:c0e60be5 all the dispatchers started
2025-11-12 07:46:55.937 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 07:46:55.937 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 07:46:56.023 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 101.257ms
2025-11-12 07:46:56.105 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 186.6489ms
2025-11-12 07:46:56.146 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 07:46:56.240 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.3565ms
2025-11-12 07:47:01.610 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 07:47:01.845 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 07:47:01.902 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 07:47:32.782 +02:00 [ERR] Failed executing DbCommand (30,479ms) [Parameters=[@__request_Username_0='?' (Size = 100), @__request_Password_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[UserName] = @__request_Username_0 AND [u].[Password] = @__request_Password_1
2025-11-12 07:47:32.861 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b6129de3-429d-44e3-aebe-5b90a69d5d3c
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b6129de3-429d-44e3-aebe-5b90a69d5d3c
Error Number:-2,State:0,Class:11
2025-11-12 07:47:49.650 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 07:47:49.829 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 07:47:49.852 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 07:47:49.869 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 07:47:49.944 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 07:47:50.470 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 07:47:51.009 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 07:47:51.531 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 07:47:51.543 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 07:47:51.799 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 07:47:51.802 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 07:47:51.805 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 07:47:51.859 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 07:47:51.864 +02:00 [INF] Hosting environment: Development
2025-11-12 07:47:51.868 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 07:47:51.906 +02:00 [INF] Server desktop-8dbdubg:27348:ae0bb604 successfully announced in 47.9063 ms
2025-11-12 07:47:51.923 +02:00 [INF] Server desktop-8dbdubg:27348:ae0bb604 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 07:47:52.168 +02:00 [INF] Server desktop-8dbdubg:27348:ae0bb604 all the dispatchers started
2025-11-12 07:47:52.451 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 07:47:52.451 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 07:47:52.521 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 73.3576ms
2025-11-12 07:47:52.638 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 207.2594ms
2025-11-12 07:47:52.716 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 07:47:52.810 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.1208ms
2025-11-12 07:47:58.054 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 07:47:58.289 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 07:47:58.343 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 07:47:58.851 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[@__request_Username_0='?' (Size = 100), @__request_Password_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[UserName] = @__request_Username_0 AND [u].[Password] = @__request_Password_1
2025-11-12 07:47:59.109 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-11-12 07:47:59.124 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 769.4886ms
2025-11-12 07:47:59.130 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 07:47:59.142 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 200 null text/plain; charset=utf-8 1088.6636ms
2025-11-12 07:48:12.837 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 07:48:12.918 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '32', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-12 07:48:12.983 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-12 07:48:13.000 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-12 07:48:13.020 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-12 07:48:13.023 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - 401 0 null 186.2785ms
2025-11-12 07:48:34.990 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 07:48:35.023 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '32', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-12 07:48:35.034 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-12 07:48:35.041 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-12 07:48:35.045 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-12 07:48:35.049 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - 401 0 null 60.9209ms
2025-11-12 07:48:35.916 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 07:48:35.933 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '32', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-12 07:48:35.952 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-12 07:48:35.958 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-12 07:48:35.963 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-12 07:48:35.971 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - 401 0 null 54.5157ms
2025-11-12 07:53:41.444 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 07:53:41.608 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 07:53:41.646 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 07:53:41.670 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 07:53:42.065 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 07:53:42.593 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 07:53:43.242 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 07:53:43.725 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 07:53:43.728 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 07:53:43.986 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 07:53:43.990 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 07:53:43.995 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 07:53:44.052 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 07:53:44.057 +02:00 [INF] Hosting environment: Development
2025-11-12 07:53:44.061 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 07:53:44.092 +02:00 [INF] Server desktop-8dbdubg:27024:39ba044d successfully announced in 41.3842 ms
2025-11-12 07:53:44.111 +02:00 [INF] Server desktop-8dbdubg:27024:39ba044d is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 07:53:44.159 +02:00 [INF] 2 servers were removed due to timeout
2025-11-12 07:53:45.677 +02:00 [INF] Server desktop-8dbdubg:27024:39ba044d all the dispatchers started
2025-11-12 07:53:46.004 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 07:53:46.004 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 07:53:46.084 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 97.5524ms
2025-11-12 07:53:46.179 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 195.709ms
2025-11-12 07:53:46.229 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 07:53:46.336 +02:00 [WRN] Failed to process the job '147': an exception occurred. Retry attempt 9 of 10 will be performed in 01:09:16.
System.IO.FileNotFoundException: Could not load file or assembly 'NotificationSystem.Application, Culture=neutral, PublicKeyToken=null'. The system cannot find the file specified.
File name: 'NotificationSystem.Application, Culture=neutral, PublicKeyToken=null'
   at System.Reflection.RuntimeAssembly.InternalLoad(AssemblyName assemblyName, StackCrawlMark& stackMark, AssemblyLoadContext assemblyLoadContext, RuntimeAssembly requestingAssembly, Boolean throwOnFileNotFound)
   at System.Reflection.Assembly.Load(AssemblyName assemblyRef)
   at Hangfire.Common.TypeHelper.AssemblyResolver(String assemblyString) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 236
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.TypeHelper.CachedAssemblyResolver(AssemblyName assemblyName) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 195
   at System.Reflection.TypeNameParser.ResolveAssembly(String assemblyName)
   at System.Reflection.TypeNameParser.GetType(String typeName, ReadOnlySpan`1 nestedTypeNames, String assemblyNameIfAny)
   at System.Reflection.TypeNameParser.Parse()
   at System.Reflection.TypeNameParser.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Assembly requestingAssembly, Boolean throwOnError, Boolean ignoreCase, Boolean extensibleParser)
   at System.Type.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Boolean throwOnError)
   at Hangfire.Common.TypeHelper.<>c.<DefaultTypeResolver>b__20_0(String name) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 83
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.TypeHelper.DefaultTypeResolver(String typeName) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 75
   at Hangfire.Storage.InvocationData.<>c.<CachedDeserializeMethod>b__33_0(MethodDeserializerCacheKey key) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 339
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Storage.InvocationData.CachedDeserializeMethod(Func`2 typeResolver, String typeName, String methodName, String parameterTypes, Type& type, MethodInfo& methodInfo) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 335
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 100
2025-11-12 07:53:46.355 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 125.9374ms
2025-11-12 07:53:46.718 +02:00 [WRN] Failed to process the job '148': an exception occurred. Retry attempt 9 of 10 will be performed in 01:10:55.
System.IO.FileNotFoundException: Could not load file or assembly 'NotificationSystem.Application, Culture=neutral, PublicKeyToken=null'. The system cannot find the file specified.
File name: 'NotificationSystem.Application, Culture=neutral, PublicKeyToken=null'
   at System.Reflection.RuntimeAssembly.InternalLoad(AssemblyName assemblyName, StackCrawlMark& stackMark, AssemblyLoadContext assemblyLoadContext, RuntimeAssembly requestingAssembly, Boolean throwOnFileNotFound)
   at System.Reflection.Assembly.Load(AssemblyName assemblyRef)
   at Hangfire.Common.TypeHelper.AssemblyResolver(String assemblyString) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 236
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.TypeHelper.CachedAssemblyResolver(AssemblyName assemblyName) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 195
   at System.Reflection.TypeNameParser.ResolveAssembly(String assemblyName)
   at System.Reflection.TypeNameParser.GetType(String typeName, ReadOnlySpan`1 nestedTypeNames, String assemblyNameIfAny)
   at System.Reflection.TypeNameParser.Parse()
   at System.Reflection.TypeNameParser.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Assembly requestingAssembly, Boolean throwOnError, Boolean ignoreCase, Boolean extensibleParser)
   at System.Type.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Boolean throwOnError)
   at Hangfire.Common.TypeHelper.<>c.<DefaultTypeResolver>b__20_0(String name) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 83
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.TypeHelper.DefaultTypeResolver(String typeName) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 75
   at Hangfire.Storage.InvocationData.<>c.<CachedDeserializeMethod>b__33_0(MethodDeserializerCacheKey key) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 339
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Storage.InvocationData.CachedDeserializeMethod(Func`2 typeResolver, String typeName, String methodName, String parameterTypes, Type& type, MethodInfo& methodInfo) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 335
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 100
2025-11-12 07:53:57.188 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 07:53:57.645 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 07:53:57.723 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 07:54:08.126 +02:00 [INF] Executed DbCommand (9,840ms) [Parameters=[@__request_Username_0='?' (Size = 100), @__request_Password_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[UserName] = @__request_Username_0 AND [u].[Password] = @__request_Password_1
2025-11-12 07:54:08.379 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-11-12 07:54:08.391 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 10656.5712ms
2025-11-12 07:54:08.400 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 07:54:08.412 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 200 null text/plain; charset=utf-8 11225.1808ms
2025-11-12 07:54:08.888 +02:00 [WRN] Failed to process the job '146': an exception occurred. Retry attempt 9 of 10 will be performed in 01:08:58.
System.IO.FileNotFoundException: Could not load file or assembly 'NotificationSystem.Application, Culture=neutral, PublicKeyToken=null'. The system cannot find the file specified.
File name: 'NotificationSystem.Application, Culture=neutral, PublicKeyToken=null'
   at System.Reflection.RuntimeAssembly.<InternalLoad>g____PInvoke|49_0(NativeAssemblyNameParts* __pAssemblyNameParts_native, ObjectHandleOnStack __requestingAssembly_native, StackCrawlMarkHandle __stackMark_native, Int32 __throwOnFileNotFound_native, ObjectHandleOnStack __assemblyLoadContext_native, ObjectHandleOnStack __retAssembly_native)
   at System.Reflection.RuntimeAssembly.InternalLoad(AssemblyName assemblyName, StackCrawlMark& stackMark, AssemblyLoadContext assemblyLoadContext, RuntimeAssembly requestingAssembly, Boolean throwOnFileNotFound)
   at System.Reflection.Assembly.Load(AssemblyName assemblyRef)
   at Hangfire.Common.TypeHelper.AssemblyResolver(String assemblyString) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 236
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.TypeHelper.CachedAssemblyResolver(AssemblyName assemblyName) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 195
   at System.Reflection.TypeNameParser.ResolveAssembly(String assemblyName)
   at System.Reflection.TypeNameParser.GetType(String typeName, ReadOnlySpan`1 nestedTypeNames, String assemblyNameIfAny)
   at System.Reflection.TypeNameParser.NamespaceTypeName.ResolveType(TypeNameParser& parser, String containingAssemblyIfAny)
   at System.Reflection.TypeNameParser.Parse()
   at System.Reflection.TypeNameParser.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Assembly requestingAssembly, Boolean throwOnError, Boolean ignoreCase, Boolean extensibleParser)
   at System.Type.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Boolean throwOnError)
   at Hangfire.Common.TypeHelper.<>c.<DefaultTypeResolver>b__20_0(String name) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 83
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.TypeHelper.DefaultTypeResolver(String typeName) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 75
   at Hangfire.Storage.InvocationData.<>c.<CachedDeserializeMethod>b__33_0(MethodDeserializerCacheKey key) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 339
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Storage.InvocationData.CachedDeserializeMethod(Func`2 typeResolver, String typeName, String methodName, String parameterTypes, Type& type, MethodInfo& methodInfo) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 335
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 100
2025-11-12 07:54:23.967 +02:00 [INF] Execution DelayedJobScheduler recovered from the Faulted state after 00:00:16.1393680 and is in the Running state now
2025-11-12 07:54:24.091 +02:00 [INF] Execution RecurringJobScheduler recovered from the Faulted state after 00:00:16.0098340 and is in the Running state now
2025-11-12 07:54:31.413 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 07:54:31.475 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '32', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-11-12 07:54:31.498 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-11-12 07:54:31.512 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-12 07:54:31.539 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-12 07:54:31.542 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - 401 0 null 129.0751ms
2025-11-12 07:55:12.080 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 07:55:12.195 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 07:55:12.209 +02:00 [INF] Route matched with {action = "GetAll", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[PaymentScheduler.Application.DTO.Response.PaymentResponseModel]] GetAll() on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 07:55:12.523 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API) in 308.7398ms
2025-11-12 07:55:12.531 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 07:55:12.538 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Number.ThrowOverflowException[TInteger]()
   at System.Convert.ToInt32(String value)
   at System.Linq.Expressions.Interpreter.FuncCallInstruction`2.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.LightLambda.Run(Object[] arguments)
   at System.Dynamic.Utils.DelegateHelpers.FuncThunk[TReturn](Func`2 handler)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.<Evaluate>g__EvaluateCore|75_0(Expression expression, String& parameterName, Boolean& isContextAccessor)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.<Evaluate>g__EvaluateCore|75_0(Expression expression, String& parameterName, Boolean& isContextAccessor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.Evaluate(Expression expression, String& parameterName, Boolean& isContextAccessor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.ProcessEvaluatableRoot(Expression evaluatableRoot, State& state, Boolean forceEvaluation)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.VisitBinary(BinaryExpression binary)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.Visit(Expression expression, State& state)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.VisitLambda[T](Expression`1 lambda)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.Visit(Expression expression, State& state)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.VisitUnary(UnaryExpression unary)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.Visit[T](ReadOnlyCollection`1 expressions, Func`2 elementVisitor, StateType& aggregateStateType, State[]& expressionStates, Boolean poolExpressionStates)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.Visit(ReadOnlyCollection`1 expressions, StateType& aggregateStateType, State[]& expressionStates, Boolean poolExpressionStates)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.VisitMethodCall(MethodCallExpression methodCall)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.Visit[T](ReadOnlyCollection`1 expressions, Func`2 elementVisitor, StateType& aggregateStateType, State[]& expressionStates, Boolean poolExpressionStates)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.Visit(ReadOnlyCollection`1 expressions, StateType& aggregateStateType, State[]& expressionStates, Boolean poolExpressionStates)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.VisitMethodCall(MethodCallExpression methodCall)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.Visit(Expression expression, State& state)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.ExtractParameters(Expression expression, IParameterValues parameterValues, Boolean parameterize, Boolean clearParameterizedValues, Boolean precompiledQuery, IReadOnlySet`1& nonNullableReferenceTypeParameters)
   at Microsoft.EntityFrameworkCore.Query.Internal.ExpressionTreeFuncletizer.ExtractParameters(Expression expression, IParameterValues parameterValues, Boolean parameterize, Boolean clearParameterizedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExtractParameters(Expression query, IParameterValues parameterValues, IDiagnosticsLogger`1 logger, Boolean compiledQuery, Boolean generateContextAccessors)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.GetAllPayments(String userId) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 44
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll() in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 27
   at lambda_method119(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-11-12 07:55:12.663 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - 500 null text/plain; charset=utf-8 583.1345ms
2025-11-12 07:55:17.320 +02:00 [ERR] Execution RecurringJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
Operation cancelled by user.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.RecurringJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 423
   at Hangfire.Server.RecurringJobScheduler.EnqueueNextRecurringJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 203
   at Hangfire.Server.RecurringJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 176
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:94b0a4d4-1485-4c93-80d5-e5f5184759d0
Error Number:-2,State:0,Class:11
2025-11-12 07:55:22.538 +02:00 [ERR] Execution DelayedJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
Operation cancelled by user.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.DelayedJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 411
   at Hangfire.Server.DelayedJobScheduler.EnqueueNextScheduledJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 167
   at Hangfire.Server.DelayedJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 148
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:796edf1f-e0c2-46aa-b25d-504e6416397f
Error Number:-2,State:0,Class:11
2025-11-12 07:55:49.213 +02:00 [WRN] Server desktop-8dbdubg:27024:39ba044d encountered an exception while sending heartbeat
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527
   at Hangfire.SqlServer.SqlServerConnection.<>c.<Heartbeat>b__23_0(SqlServerStorage storage, DbConnection connection, String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 553
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerConnection.Heartbeat(String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 548
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
ClientConnectionId:2c495471-b389-4d42-8c08-ff9c1e4f6282
Error Number:-2,State:0,Class:11
2025-11-12 07:55:50.981 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 07:55:51.011 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 07:55:51.019 +02:00 [INF] Route matched with {action = "GetAll", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[PaymentScheduler.Application.DTO.Response.PaymentResponseModel]] GetAll() on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 07:56:45.598 +02:00 [INF] Execution RecurringJobScheduler recovered from the Failed state after 00:01:28.2260172 and is in the Running state now
2025-11-12 07:56:45.622 +02:00 [INF] Server desktop-8dbdubg:27024:39ba044d is now able to continue sending heartbeats
2025-11-12 08:11:28.861 +02:00 [ERR] Failed executing DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:11:29.055 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'UserAccounts'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:be457c75-106a-4559-b87a-5b63a4da647f
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'UserAccounts'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:be457c75-106a-4559-b87a-5b63a4da647f
Error Number:208,State:1,Class:16
2025-11-12 08:11:56.864 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-12 08:11:56.917 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-12 08:11:56.989 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-12 08:11:57.073 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-12 08:11:57.084 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-12 08:11:57.086 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-12 08:11:57.096 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-12 08:11:57.106 +02:00 [INF] Applying migration '20251112061146_InitialMigration'.
2025-11-12 08:11:57.165 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Frequency] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Frequency] PRIMARY KEY ([Id])
);
2025-11-12 08:11:57.172 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Status] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Status] PRIMARY KEY ([Id])
);
2025-11-12 08:11:57.176 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserAccounts] (
    [Id] int NOT NULL IDENTITY,
    [UserName] nvarchar(100) NOT NULL,
    [Password] nvarchar(100) NOT NULL,
    [PhoneNumber] nvarchar(200) NOT NULL,
    [Sid] uniqueidentifier NOT NULL,
    [Balance] decimal(18,2) NOT NULL,
    [Currency] nvarchar(max) NOT NULL,
    [IsActive] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_UserAccounts] PRIMARY KEY ([Id])
);
2025-11-12 08:11:57.196 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [PayeeName] nvarchar(200) NOT NULL,
    [Amount] decimal(18,2) NOT NULL,
    [Title] nvarchar(100) NOT NULL,
    [Description] nvarchar(100) NOT NULL,
    [DestinationAccount] nvarchar(255) NOT NULL,
    [FrequencyId] int NOT NULL,
    [StatusId] int NOT NULL,
    [StartDate] datetime2 NOT NULL,
    [NextExecutionDate] datetime2 NOT NULL,
    [LastExecutionDate] datetime2 NULL,
    [ConsecutiveFailures] int NOT NULL,
    [LastFailureReason] nvarchar(500) NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NULL,
    [UserAccountId] int NULL,
    CONSTRAINT [PK_Payments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Payments_Frequency_FrequencyId] FOREIGN KEY ([FrequencyId]) REFERENCES [Frequency] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Payments_Status_StatusId] FOREIGN KEY ([StatusId]) REFERENCES [Status] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Payments_UserAccounts_UserAccountId] FOREIGN KEY ([UserAccountId]) REFERENCES [UserAccounts] ([Id])
);
2025-11-12 08:11:57.208 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [PaymentExecutions] (
    [Id] int NOT NULL IDENTITY,
    [RecurringPaymentId] int NOT NULL,
    [PaymentId] int NOT NULL,
    [Amount] decimal(18,2) NOT NULL,
    [ExecutedAt] datetime2 NOT NULL,
    [Success] bit NOT NULL,
    [FailureReason] nvarchar(500) NULL,
    CONSTRAINT [PK_PaymentExecutions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PaymentExecutions_Payments_PaymentId] FOREIGN KEY ([PaymentId]) REFERENCES [Payments] ([Id]) ON DELETE CASCADE
);
2025-11-12 08:11:57.217 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PaymentExecutions_PaymentId] ON [PaymentExecutions] ([PaymentId]);
2025-11-12 08:11:57.220 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Payments_FrequencyId] ON [Payments] ([FrequencyId]);
2025-11-12 08:11:57.223 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Payments_StatusId] ON [Payments] ([StatusId]);
2025-11-12 08:11:57.226 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Payments_UserAccountId] ON [Payments] ([UserAccountId]);
2025-11-12 08:11:57.233 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251112061146_InitialMigration', N'9.0.10');
2025-11-12 08:11:57.243 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-12 08:12:28.016 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:12:29.101 +02:00 [INF] Executed DbCommand (151ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (Size = 200), @p6='?' (DbType = Guid), @p7='?' (Size = 100), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 100), @p13='?' (Size = 200), @p14='?' (DbType = Guid), @p15='?' (Size = 100), @p16='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 100), @p21='?' (Size = 200), @p22='?' (DbType = Guid), @p23='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserAccounts] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 2)) AS i ([Balance], [CreatedAt], [Currency], [IsActive], [Password], [PhoneNumber], [Sid], [UserName], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Balance], [CreatedAt], [Currency], [IsActive], [Password], [PhoneNumber], [Sid], [UserName])
VALUES (i.[Balance], i.[CreatedAt], i.[Currency], i.[IsActive], i.[Password], i.[PhoneNumber], i.[Sid], i.[UserName])
OUTPUT INSERTED.[Id], i._Position;
2025-11-12 08:12:29.227 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:12:29.355 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 50), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 50), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 50), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Frequency] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3),
(@p12, @p13, @p14, 4),
(@p15, @p16, @p17, 5)) AS i ([CreatedAt], [Description], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedAt], [Description], [Name])
VALUES (i.[CreatedAt], i.[Description], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
2025-11-12 08:12:29.385 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:12:29.466 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 50), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 50), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 50), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Status] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3),
(@p12, @p13, @p14, 4)) AS i ([CreatedAt], [Description], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedAt], [Description], [Name])
VALUES (i.[CreatedAt], i.[Description], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
2025-11-12 08:12:29.495 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:12:29.724 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (Size = 200), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Size = 100), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (Size = 100), @p20='?' (Size = 255), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (Size = 500), @p24='?' (DbType = DateTime2), @p25='?' (Size = 200), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Int32), @p28='?' (Size = 100), @p29='?' (DbType = DateTime2), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime2), @p35='?' (Size = 100), @p36='?' (Size = 255), @p37='?' (DbType = Int32), @p38='?' (DbType = DateTime2), @p39='?' (Size = 500), @p40='?' (DbType = DateTime2), @p41='?' (Size = 200), @p42='?' (DbType = DateTime2), @p43='?' (DbType = Int32), @p44='?' (Size = 100), @p45='?' (DbType = DateTime2), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Payments] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 0),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 1),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, 2)) AS i ([Amount], [ConsecutiveFailures], [CreatedAt], [Description], [DestinationAccount], [FrequencyId], [LastExecutionDate], [LastFailureReason], [NextExecutionDate], [PayeeName], [StartDate], [StatusId], [Title], [UpdatedAt], [UserAccountId], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Amount], [ConsecutiveFailures], [CreatedAt], [Description], [DestinationAccount], [FrequencyId], [LastExecutionDate], [LastFailureReason], [NextExecutionDate], [PayeeName], [StartDate], [StatusId], [Title], [UpdatedAt], [UserAccountId], [UserId])
VALUES (i.[Amount], i.[ConsecutiveFailures], i.[CreatedAt], i.[Description], i.[DestinationAccount], i.[FrequencyId], i.[LastExecutionDate], i.[LastFailureReason], i.[NextExecutionDate], i.[PayeeName], i.[StartDate], i.[StatusId], i.[Title], i.[UpdatedAt], i.[UserAccountId], i.[UserId])
OUTPUT INSERTED.[Id], i._Position;
2025-11-12 08:12:30.154 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 08:12:30.642 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 08:12:31.189 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 08:12:31.857 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 08:12:31.861 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 08:12:31.997 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 08:12:31.999 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 08:12:32.001 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 08:12:32.098 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 08:12:32.105 +02:00 [INF] Hosting environment: Development
2025-11-12 08:12:32.109 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 08:12:32.146 +02:00 [INF] Server desktop-8dbdubg:22868:75b86d2a successfully announced in 50.5803 ms
2025-11-12 08:12:32.158 +02:00 [INF] Server desktop-8dbdubg:22868:75b86d2a is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 08:12:32.275 +02:00 [INF] 2 servers were removed due to timeout
2025-11-12 08:12:32.497 +02:00 [INF] Server desktop-8dbdubg:22868:75b86d2a all the dispatchers started
2025-11-12 08:12:32.947 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 08:12:32.947 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 08:12:33.045 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 115.0898ms
2025-11-12 08:12:33.152 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 225.5593ms
2025-11-12 08:12:33.196 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 08:12:33.309 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 113.1583ms
2025-11-12 08:12:33.853 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[ConsecutiveFailures], [p].[CreatedAt], [p].[Description], [p].[DestinationAccount], [p].[FrequencyId], [p].[LastExecutionDate], [p].[LastFailureReason], [p].[NextExecutionDate], [p].[PayeeName], [p].[StartDate], [p].[StatusId], [p].[Title], [p].[UpdatedAt], [p].[UserAccountId], [p].[UserId]
FROM [Payments] AS [p]
INNER JOIN [Status] AS [s] ON [p].[StatusId] = [s].[Id]
WHERE [s].[Name] = N'Active' AND [p].[NextExecutionDate] <= GETUTCDATE()
2025-11-12 08:12:33.876 +02:00 [INF] Found 0 due payments to process at "2025-11-12T06:12:33.8708275Z". Payment IDs: 
2025-11-12 08:14:09.451 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:14:09.589 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:14:09.612 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:14:09.635 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:14:09.706 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 08:14:10.220 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 08:14:11.026 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 08:14:11.584 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 08:14:11.587 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 08:14:11.824 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 08:14:11.831 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 08:14:11.838 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 08:14:11.903 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 08:14:11.906 +02:00 [INF] Hosting environment: Development
2025-11-12 08:14:11.908 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 08:14:11.942 +02:00 [INF] Server desktop-8dbdubg:17184:86e62f9e successfully announced in 45.1539 ms
2025-11-12 08:14:11.961 +02:00 [INF] Server desktop-8dbdubg:17184:86e62f9e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 08:14:12.271 +02:00 [INF] Server desktop-8dbdubg:17184:86e62f9e all the dispatchers started
2025-11-12 08:14:12.668 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 08:14:12.668 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 08:14:12.732 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 82.452ms
2025-11-12 08:14:12.829 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 181.8392ms
2025-11-12 08:14:12.873 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 08:14:12.956 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.4847ms
2025-11-12 08:14:26.767 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 08:14:27.000 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:14:27.057 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:14:50.395 +02:00 [ERR] Execution DelayedJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
Operation cancelled by user.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.DelayedJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 411
   at Hangfire.Server.DelayedJobScheduler.EnqueueNextScheduledJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 167
   at Hangfire.Server.DelayedJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 148
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:ea2f7902-b888-4347-96a4-3e1831327b05
Error Number:-2,State:0,Class:11
2025-11-12 08:15:00.380 +02:00 [ERR] Execution RecurringJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.RecurringJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 423
   at Hangfire.Server.RecurringJobScheduler.EnqueueNextRecurringJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 203
   at Hangfire.Server.RecurringJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 176
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:fda193dd-9cff-424d-9939-6039a1b60a5a
Error Number:-2,State:0,Class:11
2025-11-12 08:15:02.557 +02:00 [ERR] Failed executing DbCommand (35,084ms) [Parameters=[@__request_Username_0='?' (Size = 100), @__request_Password_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[UserName] = @__request_Username_0 AND [u].[Password] = @__request_Password_1
2025-11-12 08:15:02.587 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b2117d3b-fb49-40b4-996e-68800cb56eda
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b2117d3b-fb49-40b4-996e-68800cb56eda
Error Number:-2,State:0,Class:11
2025-11-12 08:15:03.652 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 36582.8627ms
2025-11-12 08:15:03.661 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:15:03.675 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 64
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 40
   at lambda_method36(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:b2117d3b-fb49-40b4-996e-68800cb56eda
Error Number:-2,State:0,Class:11
2025-11-12 08:15:03.792 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 500 null text/plain; charset=utf-8 37026.3767ms
2025-11-12 08:15:05.726 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 08:15:05.741 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:15:05.746 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:15:16.986 +02:00 [WRN] Server desktop-8dbdubg:17184:86e62f9e encountered an exception while sending heartbeat
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527
   at Hangfire.SqlServer.SqlServerConnection.<>c.<Heartbeat>b__23_0(SqlServerStorage storage, DbConnection connection, String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 553
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerConnection.Heartbeat(String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 548
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
ClientConnectionId:a9c39b3e-10ef-4754-889c-5b6d7421632c
Error Number:-2,State:0,Class:11
2025-11-12 08:15:18.577 +02:00 [ERR] Execution Worker is in the Failed state now due to an exception, execution will be retried in no more than 00:00:04
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Hangfire.SqlServer.SqlServerJobQueue.<>c.<FetchJob>b__14_0(SqlServerStorage storage, DbConnection connection, String[] queues) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 179
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerJobQueue.FetchJob(String[] queues) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 169
   at Hangfire.SqlServer.SqlServerJobQueue.DequeueUsingSlidingInvisibilityTimeout(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 143
   at Hangfire.SqlServer.SqlServerJobQueue.Dequeue(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 67
   at Hangfire.SqlServer.SqlServerConnection.FetchNextJob(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 81
   at Hangfire.Server.Worker.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\Worker.cs:line 107
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:dc59c931-adb2-4ff5-a025-2c991dc328f8
Error Number:-2,State:0,Class:11
2025-11-12 08:15:20.546 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__request_Username_0='?' (Size = 100), @__request_Password_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[UserName] = @__request_Username_0 AND [u].[Password] = @__request_Password_1
2025-11-12 08:15:20.694 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-11-12 08:15:20.698 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 14941.8396ms
2025-11-12 08:15:20.704 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:15:20.707 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 200 null text/plain; charset=utf-8 14981.0908ms
2025-11-12 08:16:08.543 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:16:08.663 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:16:08.692 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:16:08.714 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:16:08.795 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 08:16:09.247 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 08:16:09.571 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 08:16:09.852 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 08:16:09.854 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 08:16:09.978 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 08:16:09.980 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 08:16:09.982 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 08:16:10.013 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 08:16:10.016 +02:00 [INF] Hosting environment: Development
2025-11-12 08:16:10.019 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 08:16:10.067 +02:00 [INF] Server desktop-8dbdubg:44916:6148306b successfully announced in 54.6191 ms
2025-11-12 08:16:10.073 +02:00 [INF] Server desktop-8dbdubg:44916:6148306b is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 08:16:10.259 +02:00 [INF] Server desktop-8dbdubg:44916:6148306b all the dispatchers started
2025-11-12 08:16:10.865 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 08:16:10.865 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 08:16:10.919 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 66.7113ms
2025-11-12 08:16:10.986 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 135.6054ms
2025-11-12 08:16:11.028 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 08:16:11.079 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.1583ms
2025-11-12 08:16:25.446 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 08:16:25.687 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:16:25.731 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:16:53.404 +02:00 [ERR] Execution RecurringJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
Operation cancelled by user.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.RecurringJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 423
   at Hangfire.Server.RecurringJobScheduler.EnqueueNextRecurringJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 203
   at Hangfire.Server.RecurringJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 176
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:9d961e78-6664-4547-a45b-55f8f3c2fa3e
Error Number:-2,State:0,Class:11
2025-11-12 08:16:53.407 +02:00 [ERR] Execution DelayedJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
Operation cancelled by user.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.DelayedJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 411
   at Hangfire.Server.DelayedJobScheduler.EnqueueNextScheduledJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 167
   at Hangfire.Server.DelayedJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 148
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:8698f67b-3fa6-451d-8846-842a2bf92d9f
Error Number:-2,State:0,Class:11
2025-11-12 08:17:01.022 +02:00 [ERR] Failed executing DbCommand (35,038ms) [Parameters=[@__request_Username_0='?' (Size = 100), @__request_Password_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[UserName] = @__request_Username_0 AND [u].[Password] = @__request_Password_1
2025-11-12 08:17:01.056 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:dba33486-a9f2-4d14-85d3-2a83cb759213
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:dba33486-a9f2-4d14-85d3-2a83cb759213
Error Number:-2,State:0,Class:11
2025-11-12 08:17:01.287 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 35542.6785ms
2025-11-12 08:17:01.293 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:17:01.301 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 67
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 40
   at lambda_method36(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:dba33486-a9f2-4d14-85d3-2a83cb759213
Error Number:-2,State:0,Class:11
2025-11-12 08:17:01.419 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 500 null text/plain; charset=utf-8 35973.4825ms
2025-11-12 08:17:15.126 +02:00 [WRN] Server desktop-8dbdubg:44916:6148306b encountered an exception while sending heartbeat
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527
   at Hangfire.SqlServer.SqlServerConnection.<>c.<Heartbeat>b__23_0(SqlServerStorage storage, DbConnection connection, String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 553
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerConnection.Heartbeat(String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 548
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
ClientConnectionId:28f588da-1c10-4be8-9472-8b13aeacbb24
Error Number:-2,State:0,Class:11
2025-11-12 08:17:21.306 +02:00 [ERR] Execution Worker is in the Failed state now due to an exception, execution will be retried in no more than 00:00:04
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Hangfire.SqlServer.SqlServerJobQueue.<>c.<FetchJob>b__14_0(SqlServerStorage storage, DbConnection connection, String[] queues) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 179
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerJobQueue.FetchJob(String[] queues) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 169
   at Hangfire.SqlServer.SqlServerJobQueue.DequeueUsingSlidingInvisibilityTimeout(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 143
   at Hangfire.SqlServer.SqlServerJobQueue.Dequeue(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 67
   at Hangfire.SqlServer.SqlServerConnection.FetchNextJob(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 81
   at Hangfire.Server.Worker.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\Worker.cs:line 107
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:15fcd6f6-802a-45c6-93cf-82d3f04ea5ed
Error Number:-2,State:0,Class:11
2025-11-12 08:17:28.514 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 08:17:28.535 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:17:28.543 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:17:42.670 +02:00 [ERR] An error occurred using the connection to database 'PaymentScheduler' on server 'DESKTOP-8DBDUBG'.
2025-11-12 08:17:42.689 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=35; [Login] initialization=0; authentication=0; [Post-Login] complete=14008; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:42107829-6083-4a25-b1a6-95d7ec814930
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=35; [Login] initialization=0; authentication=0; [Post-Login] complete=14008; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:42107829-6083-4a25-b1a6-95d7ec814930
Error Number:-2,State:0,Class:11
2025-11-12 08:17:42.953 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 14401.2007ms
2025-11-12 08:17:42.957 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:17:42.961 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=35; [Login] initialization=0; authentication=0; [Post-Login] complete=14008; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 67
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 40
   at lambda_method36(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:42107829-6083-4a25-b1a6-95d7ec814930
Error Number:-2,State:0,Class:11
2025-11-12 08:17:43.007 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 500 null text/plain; charset=utf-8 14494.9181ms
2025-11-12 08:17:54.101 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 08:17:54.120 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:17:54.133 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:17:59.177 +02:00 [WRN] Server desktop-8dbdubg:44916:6148306b encountered an exception while sending heartbeat
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=2; [Login] initialization=0; authentication=0; [Post-Login] complete=14003; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerConnection.Heartbeat(String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 548
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
ClientConnectionId:995264c2-587d-4d34-a004-94199e85feec
Error Number:-2,State:0,Class:11
2025-11-12 08:18:06.322 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__request_Username_0='?' (Size = 100), @__request_Password_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[UserName] = @__request_Username_0 AND [u].[Password] = @__request_Password_1
2025-11-12 08:18:06.469 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-11-12 08:18:06.479 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 12329.5981ms
2025-11-12 08:18:06.485 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:18:06.490 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 200 null text/plain; charset=utf-8 12390.0798ms
2025-11-12 08:18:21.642 +02:00 [INF] Execution Worker recovered from the Failed state after 00:01:00.3208930 and is in the Running state now
2025-11-12 08:18:29.289 +02:00 [INF] Server desktop-8dbdubg:44916:6148306b is now able to continue sending heartbeats
2025-11-12 08:18:30.891 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 08:18:30.983 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 08:18:30.998 +02:00 [INF] Route matched with {action = "GetAll", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[PaymentScheduler.Application.DTO.Response.PaymentResponseModel]] GetAll() on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:18:31.272 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API) in 247.1399ms
2025-11-12 08:18:31.278 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 08:18:31.281 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(ParseFailure failureKind)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.get_userSid() in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 16
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll() in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 27
   at lambda_method130(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-11-12 08:18:31.317 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - 500 null text/plain; charset=utf-8 427.9727ms
2025-11-12 08:18:49.807 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 08:18:49.816 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 08:18:49.858 +02:00 [INF] Route matched with {action = "GetAll", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[PaymentScheduler.Application.DTO.Response.PaymentResponseModel]] GetAll() on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:19:49.566 +02:00 [INF] Execution DelayedJobScheduler recovered from the Failed state after 00:02:56.0466319 and is in the Running state now
2025-11-12 08:19:49.566 +02:00 [INF] Execution RecurringJobScheduler recovered from the Failed state after 00:02:56.0719681 and is in the Running state now
2025-11-12 08:19:49.611 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API) in 59734.731ms
2025-11-12 08:19:49.622 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 08:19:49.626 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: Unrecognized Guid format.
   at System.Guid.GuidResult.SetFailure(ParseFailure failureKind)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.get_userSid() in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 16
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll() in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 27
   at lambda_method130(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-11-12 08:19:49.663 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - 500 null text/plain; charset=utf-8 59858.0766ms
2025-11-12 08:21:22.635 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:21:23.369 +02:00 [INF] Executed DbCommand (633ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:21:23.397 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:21:23.431 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:21:23.497 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 08:21:24.134 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 08:21:24.548 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 08:21:24.830 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 08:21:24.842 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 08:21:24.959 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 08:21:24.965 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 08:21:24.975 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 08:21:25.044 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 08:21:25.050 +02:00 [INF] Hosting environment: Development
2025-11-12 08:21:25.053 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 08:21:25.114 +02:00 [INF] Server desktop-8dbdubg:26076:b5562f70 successfully announced in 71.1359 ms
2025-11-12 08:21:25.127 +02:00 [INF] Server desktop-8dbdubg:26076:b5562f70 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 08:21:25.234 +02:00 [INF] 2 servers were removed due to timeout
2025-11-12 08:21:25.413 +02:00 [INF] Server desktop-8dbdubg:26076:b5562f70 all the dispatchers started
2025-11-12 08:21:26.160 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 08:21:26.160 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 08:21:26.215 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 71.3326ms
2025-11-12 08:21:26.294 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 151.388ms
2025-11-12 08:21:26.331 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 08:21:26.402 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.8217ms
2025-11-12 08:21:37.624 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 08:21:38.049 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 08:21:38.110 +02:00 [INF] Route matched with {action = "GetAll", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[PaymentScheduler.Application.DTO.Response.PaymentResponseModel]] GetAll() on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:23:08.323 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:23:08.487 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:23:08.512 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:23:08.529 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:23:08.604 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 08:23:09.108 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 08:23:09.669 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 08:23:10.097 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 08:23:10.101 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 08:23:10.384 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 08:23:10.402 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 08:23:10.407 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 08:23:10.460 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 08:23:10.466 +02:00 [INF] Hosting environment: Development
2025-11-12 08:23:10.471 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 08:23:10.490 +02:00 [INF] Server desktop-8dbdubg:8748:41335adc successfully announced in 36.0591 ms
2025-11-12 08:23:10.505 +02:00 [INF] Server desktop-8dbdubg:8748:41335adc is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 08:23:10.809 +02:00 [INF] Server desktop-8dbdubg:8748:41335adc all the dispatchers started
2025-11-12 08:23:11.224 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 08:23:11.224 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 08:23:11.289 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 79.5918ms
2025-11-12 08:23:11.390 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 182.8479ms
2025-11-12 08:23:11.434 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 08:23:11.523 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 89.7385ms
2025-11-12 08:23:26.258 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 08:23:26.651 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 08:23:26.694 +02:00 [INF] Route matched with {action = "GetAll", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[PaymentScheduler.Application.DTO.Response.PaymentResponseModel]] GetAll() on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:25:14.407 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:25:14.575 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:25:14.600 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:25:14.624 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:25:14.685 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 08:25:15.189 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 08:25:15.768 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 08:25:16.247 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 08:25:16.250 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 08:25:16.550 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 08:25:16.553 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 08:25:16.555 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 08:25:16.644 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 08:25:16.649 +02:00 [INF] Hosting environment: Development
2025-11-12 08:25:16.652 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 08:25:16.679 +02:00 [INF] Server desktop-8dbdubg:23732:a9564c19 successfully announced in 37.3919 ms
2025-11-12 08:25:16.690 +02:00 [INF] Server desktop-8dbdubg:23732:a9564c19 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 08:25:17.040 +02:00 [INF] Server desktop-8dbdubg:23732:a9564c19 all the dispatchers started
2025-11-12 08:25:17.269 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 08:25:17.269 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 08:25:17.367 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 114.0185ms
2025-11-12 08:25:17.463 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 214.669ms
2025-11-12 08:25:17.521 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 08:25:17.617 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 96.852ms
2025-11-12 08:25:33.432 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 08:25:33.670 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:25:33.730 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:25:48.031 +02:00 [INF] Executed DbCommand (13,864ms) [Parameters=[@__request_Username_0='?' (Size = 100), @__request_Password_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[UserName] = @__request_Username_0 AND [u].[Password] = @__request_Password_1
2025-11-12 08:25:48.251 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-11-12 08:25:48.264 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 14521.448ms
2025-11-12 08:25:48.269 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:25:48.286 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 200 null text/plain; charset=utf-8 14854.082ms
2025-11-12 08:26:01.820 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 08:26:01.982 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 08:26:02.031 +02:00 [INF] Route matched with {action = "GetAll", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[PaymentScheduler.Application.DTO.Response.PaymentResponseModel]] GetAll() on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:26:04.249 +02:00 [INF] Execution DelayedJobScheduler recovered from the Faulted state after 00:00:21.0162182 and is in the Running state now
2025-11-12 08:26:04.249 +02:00 [INF] Execution RecurringJobScheduler recovered from the Faulted state after 00:00:26.0675585 and is in the Running state now
2025-11-12 08:26:16.721 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userSid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[ConsecutiveFailures], [p].[CreatedAt], [p].[Description], [p].[DestinationAccount], [p].[FrequencyId], [p].[LastExecutionDate], [p].[LastFailureReason], [p].[NextExecutionDate], [p].[PayeeName], [p].[StartDate], [p].[StatusId], [p].[Title], [p].[UpdatedAt], [p].[UserAccountId], [p].[UserId], [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [Payments] AS [p]
LEFT JOIN [UserAccounts] AS [u] ON [p].[UserAccountId] = [u].[Id]
WHERE [u].[Sid] = @__userSid_0
ORDER BY [p].[CreatedAt] DESC
2025-11-12 08:32:40.836 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-12 08:32:40.881 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-12 08:32:40.914 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-12 08:32:41.016 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-12 08:32:41.027 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-12 08:32:41.029 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-12 08:32:41.042 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-12 08:32:41.053 +02:00 [INF] Applying migration '20251112063233_InitialMigration'.
2025-11-12 08:32:41.089 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Frequency] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Frequency] PRIMARY KEY ([Id])
);
2025-11-12 08:32:41.098 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Status] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Status] PRIMARY KEY ([Id])
);
2025-11-12 08:32:41.102 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserAccounts] (
    [Id] int NOT NULL IDENTITY,
    [UserName] nvarchar(100) NOT NULL,
    [Password] nvarchar(100) NOT NULL,
    [PhoneNumber] nvarchar(200) NOT NULL,
    [Sid] uniqueidentifier NOT NULL,
    [Balance] decimal(18,2) NOT NULL,
    [Currency] nvarchar(max) NOT NULL,
    [IsActive] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_UserAccounts] PRIMARY KEY ([Id])
);
2025-11-12 08:32:41.107 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [Id] int NOT NULL IDENTITY,
    [UserSid] uniqueidentifier NOT NULL,
    [PayeeName] nvarchar(200) NOT NULL,
    [Amount] decimal(18,2) NOT NULL,
    [Title] nvarchar(100) NOT NULL,
    [Description] nvarchar(100) NOT NULL,
    [DestinationAccount] nvarchar(255) NOT NULL,
    [FrequencyId] int NOT NULL,
    [StatusId] int NOT NULL,
    [StartDate] datetime2 NOT NULL,
    [NextExecutionDate] datetime2 NOT NULL,
    [LastExecutionDate] datetime2 NULL,
    [ConsecutiveFailures] int NOT NULL,
    [LastFailureReason] nvarchar(500) NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NULL,
    CONSTRAINT [PK_Payments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Payments_Frequency_FrequencyId] FOREIGN KEY ([FrequencyId]) REFERENCES [Frequency] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Payments_Status_StatusId] FOREIGN KEY ([StatusId]) REFERENCES [Status] ([Id]) ON DELETE CASCADE
);
2025-11-12 08:32:41.113 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [PaymentExecutions] (
    [Id] int NOT NULL IDENTITY,
    [RecurringPaymentId] int NOT NULL,
    [PaymentId] int NOT NULL,
    [Amount] decimal(18,2) NOT NULL,
    [ExecutedAt] datetime2 NOT NULL,
    [Success] bit NOT NULL,
    [FailureReason] nvarchar(500) NULL,
    CONSTRAINT [PK_PaymentExecutions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PaymentExecutions_Payments_PaymentId] FOREIGN KEY ([PaymentId]) REFERENCES [Payments] ([Id]) ON DELETE CASCADE
);
2025-11-12 08:32:41.115 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PaymentExecutions_PaymentId] ON [PaymentExecutions] ([PaymentId]);
2025-11-12 08:32:41.116 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Payments_FrequencyId] ON [Payments] ([FrequencyId]);
2025-11-12 08:32:41.118 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Payments_StatusId] ON [Payments] ([StatusId]);
2025-11-12 08:32:41.120 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251112063233_InitialMigration', N'9.0.10');
2025-11-12 08:32:41.125 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-12 08:33:06.253 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:33:07.147 +02:00 [INF] Executed DbCommand (168ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (Size = 200), @p6='?' (DbType = Guid), @p7='?' (Size = 100), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 100), @p13='?' (Size = 200), @p14='?' (DbType = Guid), @p15='?' (Size = 100), @p16='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 100), @p21='?' (Size = 200), @p22='?' (DbType = Guid), @p23='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserAccounts] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 2)) AS i ([Balance], [CreatedAt], [Currency], [IsActive], [Password], [PhoneNumber], [Sid], [UserName], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Balance], [CreatedAt], [Currency], [IsActive], [Password], [PhoneNumber], [Sid], [UserName])
VALUES (i.[Balance], i.[CreatedAt], i.[Currency], i.[IsActive], i.[Password], i.[PhoneNumber], i.[Sid], i.[UserName])
OUTPUT INSERTED.[Id], i._Position;
2025-11-12 08:33:07.271 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:33:09.111 +02:00 [INF] Executed DbCommand (1,747ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 50), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 50), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 50), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Frequency] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3),
(@p12, @p13, @p14, 4),
(@p15, @p16, @p17, 5)) AS i ([CreatedAt], [Description], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedAt], [Description], [Name])
VALUES (i.[CreatedAt], i.[Description], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
2025-11-12 08:33:09.162 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:33:09.235 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 50), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 50), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 50), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Status] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3),
(@p12, @p13, @p14, 4)) AS i ([CreatedAt], [Description], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedAt], [Description], [Name])
VALUES (i.[CreatedAt], i.[Description], i.[Name])
OUTPUT INSERTED.[Id], i._Position;
2025-11-12 08:33:09.271 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:33:09.463 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (Size = 200), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Size = 100), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (Size = 100), @p19='?' (Size = 255), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime2), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (Size = 200), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Int32), @p27='?' (Size = 100), @p28='?' (DbType = DateTime2), @p29='?' (DbType = Guid), @p30='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p31='?' (DbType = Int32), @p32='?' (DbType = DateTime2), @p33='?' (Size = 100), @p34='?' (Size = 255), @p35='?' (DbType = Int32), @p36='?' (DbType = DateTime2), @p37='?' (Size = 500), @p38='?' (DbType = DateTime2), @p39='?' (Size = 200), @p40='?' (DbType = DateTime2), @p41='?' (DbType = Int32), @p42='?' (Size = 100), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Payments] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, 0),
(@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 1),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, 2)) AS i ([Amount], [ConsecutiveFailures], [CreatedAt], [Description], [DestinationAccount], [FrequencyId], [LastExecutionDate], [LastFailureReason], [NextExecutionDate], [PayeeName], [StartDate], [StatusId], [Title], [UpdatedAt], [UserSid], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Amount], [ConsecutiveFailures], [CreatedAt], [Description], [DestinationAccount], [FrequencyId], [LastExecutionDate], [LastFailureReason], [NextExecutionDate], [PayeeName], [StartDate], [StatusId], [Title], [UpdatedAt], [UserSid])
VALUES (i.[Amount], i.[ConsecutiveFailures], i.[CreatedAt], i.[Description], i.[DestinationAccount], i.[FrequencyId], i.[LastExecutionDate], i.[LastFailureReason], i.[NextExecutionDate], i.[PayeeName], i.[StartDate], i.[StatusId], i.[Title], i.[UpdatedAt], i.[UserSid])
OUTPUT INSERTED.[Id], i._Position;
2025-11-12 08:33:09.830 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 08:33:10.327 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 08:33:10.800 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 08:33:11.286 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 08:33:11.294 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 08:33:11.489 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 08:33:11.494 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 08:33:11.498 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 08:33:11.552 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 08:33:11.559 +02:00 [INF] Hosting environment: Development
2025-11-12 08:33:11.563 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 08:33:11.597 +02:00 [INF] Server desktop-8dbdubg:2724:87a10cde successfully announced in 45.8725 ms
2025-11-12 08:33:11.649 +02:00 [INF] Server desktop-8dbdubg:2724:87a10cde is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 08:33:11.691 +02:00 [INF] 4 servers were removed due to timeout
2025-11-12 08:33:11.943 +02:00 [INF] Server desktop-8dbdubg:2724:87a10cde all the dispatchers started
2025-11-12 08:33:12.367 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 08:33:12.367 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 08:33:12.452 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 98.0493ms
2025-11-12 08:33:12.522 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 178.9314ms
2025-11-12 08:33:12.577 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 08:33:12.673 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 97.7079ms
2025-11-12 08:33:57.665 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:34:07.450 +02:00 [INF] Executed DbCommand (9,524ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:34:07.494 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:34:07.522 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:34:07.593 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 08:34:08.035 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 08:34:08.527 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 08:34:08.948 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 08:34:08.950 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 08:34:09.143 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 08:34:09.147 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 08:34:09.150 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 08:34:09.206 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 08:34:09.211 +02:00 [INF] Hosting environment: Development
2025-11-12 08:34:09.213 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 08:34:09.241 +02:00 [INF] Server desktop-8dbdubg:7664:d31e0a16 successfully announced in 35.8994 ms
2025-11-12 08:34:09.256 +02:00 [INF] Server desktop-8dbdubg:7664:d31e0a16 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 08:34:09.501 +02:00 [INF] Server desktop-8dbdubg:7664:d31e0a16 all the dispatchers started
2025-11-12 08:34:10.129 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 08:34:10.129 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 08:34:10.199 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 88.7696ms
2025-11-12 08:34:10.289 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 180.5743ms
2025-11-12 08:34:10.331 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 08:34:10.417 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.2569ms
2025-11-12 08:34:22.038 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 08:34:22.320 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:34:22.382 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:34:47.654 +02:00 [ERR] Execution RecurringJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
Operation cancelled by user.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.RecurringJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 423
   at Hangfire.Server.RecurringJobScheduler.EnqueueNextRecurringJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 203
   at Hangfire.Server.RecurringJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 176
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:acacae82-2765-495a-9e8c-f3d9e78b4cda
Error Number:-2,State:0,Class:11
2025-11-12 08:34:52.668 +02:00 [ERR] Execution DelayedJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
Operation cancelled by user.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.DelayedJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 411
   at Hangfire.Server.DelayedJobScheduler.EnqueueNextScheduledJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 167
   at Hangfire.Server.DelayedJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 148
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:259ad8ac-6c5b-4460-b07d-627b864d58a2
Error Number:-2,State:0,Class:11
2025-11-12 08:34:57.886 +02:00 [ERR] Failed executing DbCommand (35,071ms) [Parameters=[@__request_Username_0='?' (Size = 100), @__request_Password_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[UserName] = @__request_Username_0 AND [u].[Password] = @__request_Password_1
2025-11-12 08:34:57.928 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:efcec882-1663-4a55-8ddd-fb7813971dc2
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:efcec882-1663-4a55-8ddd-fb7813971dc2
Error Number:-2,State:0,Class:11
2025-11-12 08:34:58.177 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 35780.5568ms
2025-11-12 08:34:58.187 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:34:58.205 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 65
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 49
   at lambda_method36(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:efcec882-1663-4a55-8ddd-fb7813971dc2
Error Number:-2,State:0,Class:11
2025-11-12 08:34:58.366 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 500 null text/plain; charset=utf-8 36327.8893ms
2025-11-12 08:35:14.303 +02:00 [WRN] Server desktop-8dbdubg:7664:d31e0a16 encountered an exception while sending heartbeat
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527
   at Hangfire.SqlServer.SqlServerConnection.<>c.<Heartbeat>b__23_0(SqlServerStorage storage, DbConnection connection, String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 553
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerConnection.Heartbeat(String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 548
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
ClientConnectionId:aeb2bce6-a1da-47d2-9cb7-bab6efd0591f
Error Number:-2,State:0,Class:11
2025-11-12 08:35:15.757 +02:00 [ERR] Execution Worker is in the Failed state now due to an exception, execution will be retried in no more than 00:00:04
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Hangfire.SqlServer.SqlServerJobQueue.<>c.<FetchJob>b__14_0(SqlServerStorage storage, DbConnection connection, String[] queues) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 179
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerJobQueue.FetchJob(String[] queues) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 169
   at Hangfire.SqlServer.SqlServerJobQueue.DequeueUsingSlidingInvisibilityTimeout(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 143
   at Hangfire.SqlServer.SqlServerJobQueue.Dequeue(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 67
   at Hangfire.SqlServer.SqlServerConnection.FetchNextJob(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 81
   at Hangfire.Server.Worker.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\Worker.cs:line 107
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:75d0d3b7-b3f5-4abd-95e5-d13fd73e2c15
Error Number:-2,State:0,Class:11
2025-11-12 08:35:32.249 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 08:35:32.286 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:35:32.292 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:35:46.402 +02:00 [ERR] An error occurred using the connection to database 'PaymentScheduler' on server 'DESKTOP-8DBDUBG'.
2025-11-12 08:35:46.419 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=4; [Login] initialization=0; authentication=0; [Post-Login] complete=14004; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:1451a226-9008-45d8-a694-3ac9c52ec97c
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=4; [Login] initialization=0; authentication=0; [Post-Login] complete=14004; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:1451a226-9008-45d8-a694-3ac9c52ec97c
Error Number:-2,State:0,Class:11
2025-11-12 08:35:46.547 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 14245.8137ms
2025-11-12 08:35:46.552 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:35:46.557 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=4; [Login] initialization=0; authentication=0; [Post-Login] complete=14004; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 65
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 49
   at lambda_method36(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:1451a226-9008-45d8-a694-3ac9c52ec97c
Error Number:-2,State:0,Class:11
2025-11-12 08:35:46.617 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 500 null text/plain; charset=utf-8 14369.274ms
2025-11-12 08:35:52.720 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 08:35:52.736 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:35:52.739 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:36:08.342 +02:00 [ERR] An error occurred using the connection to database 'PaymentScheduler' on server 'DESKTOP-8DBDUBG'.
2025-11-12 08:36:08.353 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=21; [Login] initialization=0; authentication=1; [Post-Login] complete=14002; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:666d1670-2a69-4969-b731-ae9d72a7c6c4
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=21; [Login] initialization=0; authentication=1; [Post-Login] complete=14002; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:666d1670-2a69-4969-b731-ae9d72a7c6c4
Error Number:-2,State:0,Class:11
2025-11-12 08:36:08.569 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 15825.7441ms
2025-11-12 08:36:08.579 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:36:08.586 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=21; [Login] initialization=0; authentication=1; [Post-Login] complete=14002; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 65
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 49
   at lambda_method36(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:666d1670-2a69-4969-b731-ae9d72a7c6c4
Error Number:-2,State:0,Class:11
2025-11-12 08:36:08.646 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 500 null text/plain; charset=utf-8 15927.0008ms
2025-11-12 08:36:10.620 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 08:36:10.630 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:36:10.632 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:36:20.578 +02:00 [WRN] Server desktop-8dbdubg:7664:d31e0a16 encountered an exception while sending heartbeat
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527
   at Hangfire.SqlServer.SqlServerConnection.<>c.<Heartbeat>b__23_0(SqlServerStorage storage, DbConnection connection, String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 553
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerConnection.Heartbeat(String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 548
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
ClientConnectionId:ce6d8303-8f51-45aa-a243-267cf9d01d21
Error Number:-2,State:0,Class:11
2025-11-12 08:36:33.706 +02:00 [ERR] An error occurred using the connection to database 'PaymentScheduler' on server 'DESKTOP-8DBDUBG'.
2025-11-12 08:36:33.717 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=15005; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:08634a06-c134-4238-9ca9-2c99d3b89356
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=15005; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:08634a06-c134-4238-9ca9-2c99d3b89356
Error Number:-2,State:0,Class:11
2025-11-12 08:36:33.933 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 23295.9489ms
2025-11-12 08:36:33.940 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:36:33.948 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=15005; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 65
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 49
   at lambda_method36(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:08634a06-c134-4238-9ca9-2c99d3b89356
Error Number:-2,State:0,Class:11
2025-11-12 08:36:33.994 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 500 null text/plain; charset=utf-8 23373.3869ms
2025-11-12 08:36:58.219 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:36:58.369 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:36:58.392 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:36:58.415 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:36:58.489 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 08:36:59.036 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 08:36:59.597 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 08:37:00.059 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 08:37:00.061 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 08:37:00.281 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 08:37:00.288 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 08:37:00.291 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 08:37:00.352 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 08:37:00.356 +02:00 [INF] Hosting environment: Development
2025-11-12 08:37:00.359 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 08:37:00.390 +02:00 [INF] Server desktop-8dbdubg:9476:05d15171 successfully announced in 44.698 ms
2025-11-12 08:37:00.407 +02:00 [INF] Server desktop-8dbdubg:9476:05d15171 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 08:37:00.674 +02:00 [INF] Server desktop-8dbdubg:9476:05d15171 all the dispatchers started
2025-11-12 08:37:01.534 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 08:37:01.559 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 08:37:01.639 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 114.7231ms
2025-11-12 08:37:01.748 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 195.0346ms
2025-11-12 08:37:01.792 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 08:37:01.886 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.8675ms
2025-11-12 08:37:16.294 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 08:37:16.524 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:37:16.581 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:37:43.866 +02:00 [ERR] Execution DelayedJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
Operation cancelled by user.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.DelayedJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 411
   at Hangfire.Server.DelayedJobScheduler.EnqueueNextScheduledJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 167
   at Hangfire.Server.DelayedJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 148
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:ee5383b3-a95f-4539-ba0e-7c059c741977
Error Number:-2,State:0,Class:11
2025-11-12 08:37:48.827 +02:00 [ERR] Execution RecurringJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
Operation cancelled by user.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.RecurringJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 423
   at Hangfire.Server.RecurringJobScheduler.EnqueueNextRecurringJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 203
   at Hangfire.Server.RecurringJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 176
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:2caea6ae-21c3-4dd5-81f7-4624263602f4
Error Number:-2,State:0,Class:11
2025-11-12 08:37:52.050 +02:00 [ERR] Failed executing DbCommand (35,074ms) [Parameters=[@__request_Username_0='?' (Size = 100), @__request_Password_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[UserName] = @__request_Username_0 AND [u].[Password] = @__request_Password_1
2025-11-12 08:37:52.084 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:346641d8-4f7e-447a-afa3-0ed712f25c6f
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:346641d8-4f7e-447a-afa3-0ed712f25c6f
Error Number:-2,State:0,Class:11
2025-11-12 08:37:52.309 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 35710.9451ms
2025-11-12 08:37:52.318 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:37:52.335 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 65
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 49
   at lambda_method36(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:346641d8-4f7e-447a-afa3-0ed712f25c6f
Error Number:-2,State:0,Class:11
2025-11-12 08:37:52.418 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 500 null text/plain; charset=utf-8 36123.9148ms
2025-11-12 08:37:55.093 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 08:37:55.111 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:37:55.118 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:37:56.920 +02:00 [ERR] Execution Worker is in the Failed state now due to an exception, execution will be retried in no more than 00:00:04
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=2; [Login] initialization=0; authentication=0; [Post-Login] complete=14015; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 406
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 291
   at Hangfire.SqlServer.SqlServerJobQueue.FetchJob(String[] queues) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 169
   at Hangfire.SqlServer.SqlServerJobQueue.DequeueUsingSlidingInvisibilityTimeout(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 103
   at Hangfire.SqlServer.SqlServerJobQueue.Dequeue(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 67
   at Hangfire.SqlServer.SqlServerConnection.FetchNextJob(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 81
   at Hangfire.Server.Worker.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\Worker.cs:line 107
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:b31a3495-a6ff-49dc-ae37-0dbe9e39471b
Error Number:-2,State:0,Class:11
2025-11-12 08:38:05.463 +02:00 [WRN] Server desktop-8dbdubg:9476:05d15171 encountered an exception while sending heartbeat
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527
   at Hangfire.SqlServer.SqlServerConnection.<>c.<Heartbeat>b__23_0(SqlServerStorage storage, DbConnection connection, String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 553
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerConnection.Heartbeat(String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 548
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
ClientConnectionId:30ca6397-cf66-4715-b5c5-8ead1bccca49
Error Number:-2,State:0,Class:11
2025-11-12 08:38:09.245 +02:00 [ERR] An error occurred using the connection to database 'PaymentScheduler' on server 'DESKTOP-8DBDUBG'.
2025-11-12 08:38:09.264 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=3; [Login] initialization=0; authentication=0; [Post-Login] complete=14018; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e24fe65a-f227-42c3-8ebb-65611b46f7b8
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=3; [Login] initialization=0; authentication=0; [Post-Login] complete=14018; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e24fe65a-f227-42c3-8ebb-65611b46f7b8
Error Number:-2,State:0,Class:11
2025-11-12 08:38:09.526 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 14397.8681ms
2025-11-12 08:38:09.531 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:38:09.536 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=3; [Login] initialization=0; authentication=0; [Post-Login] complete=14018; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 65
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 49
   at lambda_method36(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:e24fe65a-f227-42c3-8ebb-65611b46f7b8
Error Number:-2,State:0,Class:11
2025-11-12 08:38:09.583 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 500 null text/plain; charset=utf-8 14491.0154ms
2025-11-12 08:38:11.198 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 08:38:11.216 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:38:11.220 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:38:11.239 +02:00 [ERR] An error occurred using the connection to database 'PaymentScheduler' on server 'DESKTOP-8DBDUBG'.
2025-11-12 08:38:11.253 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=3; [Login] initialization=0; authentication=0; [Post-Login] complete=14018; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e24fe65a-f227-42c3-8ebb-65611b46f7b8
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=3; [Login] initialization=0; authentication=0; [Post-Login] complete=14018; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e24fe65a-f227-42c3-8ebb-65611b46f7b8
Error Number:-2,State:0,Class:11
2025-11-12 08:38:11.466 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 241.1083ms
2025-11-12 08:38:11.474 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:38:11.481 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=3; [Login] initialization=0; authentication=0; [Post-Login] complete=14018; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 65
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 49
   at lambda_method36(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:e24fe65a-f227-42c3-8ebb-65611b46f7b8
Error Number:-2,State:0,Class:11
2025-11-12 08:38:11.533 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 500 null text/plain; charset=utf-8 335.909ms
2025-11-12 08:38:12.961 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 08:38:12.969 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:38:12.971 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:38:12.980 +02:00 [ERR] An error occurred using the connection to database 'PaymentScheduler' on server 'DESKTOP-8DBDUBG'.
2025-11-12 08:38:12.989 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=3; [Login] initialization=0; authentication=0; [Post-Login] complete=14018; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e24fe65a-f227-42c3-8ebb-65611b46f7b8
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=3; [Login] initialization=0; authentication=0; [Post-Login] complete=14018; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e24fe65a-f227-42c3-8ebb-65611b46f7b8
Error Number:-2,State:0,Class:11
2025-11-12 08:38:13.126 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 150.8269ms
2025-11-12 08:38:13.132 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:38:13.143 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=3; [Login] initialization=0; authentication=0; [Post-Login] complete=14018; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 65
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 49
   at lambda_method36(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:e24fe65a-f227-42c3-8ebb-65611b46f7b8
Error Number:-2,State:0,Class:11
2025-11-12 08:38:13.194 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 500 null text/plain; charset=utf-8 233.4834ms
2025-11-12 08:38:13.968 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 08:38:13.979 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:38:13.984 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:38:13.998 +02:00 [ERR] An error occurred using the connection to database 'PaymentScheduler' on server 'DESKTOP-8DBDUBG'.
2025-11-12 08:38:14.011 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=3; [Login] initialization=0; authentication=0; [Post-Login] complete=14018; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e24fe65a-f227-42c3-8ebb-65611b46f7b8
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=3; [Login] initialization=0; authentication=0; [Post-Login] complete=14018; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e24fe65a-f227-42c3-8ebb-65611b46f7b8
Error Number:-2,State:0,Class:11
2025-11-12 08:38:14.182 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 188.2954ms
2025-11-12 08:38:14.187 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:38:14.191 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=0; handshake=3; [Login] initialization=0; authentication=0; [Post-Login] complete=14018; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 65
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.Login(LoginRequestModel request) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 49
   at lambda_method36(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:e24fe65a-f227-42c3-8ebb-65611b46f7b8
Error Number:-2,State:0,Class:11
2025-11-12 08:38:14.229 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 500 null text/plain; charset=utf-8 261.8508ms
2025-11-12 08:38:14.753 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 56
2025-11-12 08:38:14.760 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:38:14.762 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:38:14.850 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__request_Username_0='?' (Size = 100), @__request_Password_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[UserName] = @__request_Username_0 AND [u].[Password] = @__request_Password_1
2025-11-12 08:38:15.088 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-11-12 08:38:15.094 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 326.9392ms
2025-11-12 08:38:15.097 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 08:38:15.100 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 200 null text/plain; charset=utf-8 347.6225ms
2025-11-12 08:38:25.576 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 08:38:25.713 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 08:38:25.726 +02:00 [INF] Route matched with {action = "GetAll", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[PaymentScheduler.Application.DTO.Response.PaymentResponseModel]] GetAll() on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:38:25.828 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userSid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[ConsecutiveFailures], [p].[CreatedAt], [p].[Description], [p].[DestinationAccount], [p].[FrequencyId], [p].[LastExecutionDate], [p].[LastFailureReason], [p].[NextExecutionDate], [p].[PayeeName], [p].[StartDate], [p].[StatusId], [p].[Title], [p].[UpdatedAt], [p].[UserSid]
FROM [Payments] AS [p]
WHERE [p].[UserSid] = @__userSid_0
ORDER BY [p].[CreatedAt] DESC
2025-11-12 08:38:25.931 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[PaymentScheduler.Application.DTO.Response.PaymentResponseModel, PaymentScheduler.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-12 08:38:25.967 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API) in 232.4435ms
2025-11-12 08:38:25.971 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 08:38:25.976 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - 200 null application/json; charset=utf-8 399.21ms
2025-11-12 08:38:30.034 +02:00 [INF] Execution DelayedJobScheduler recovered from the Failed state after 00:00:46.0793382 and is in the Running state now
2025-11-12 08:38:34.905 +02:00 [INF] Execution RecurringJobScheduler recovered from the Failed state after 00:00:46.0580086 and is in the Running state now
2025-11-12 08:38:35.513 +02:00 [INF] Server desktop-8dbdubg:9476:05d15171 is now able to continue sending heartbeats
2025-11-12 08:39:48.355 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:39:48.565 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:39:48.625 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:39:48.651 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:39:48.737 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 08:39:49.293 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 08:39:50.002 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 08:39:50.468 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 08:39:50.471 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 08:39:50.681 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 08:39:50.691 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 08:39:50.694 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 08:39:50.752 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 08:39:50.756 +02:00 [INF] Hosting environment: Development
2025-11-12 08:39:50.760 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 08:39:50.790 +02:00 [INF] Server desktop-8dbdubg:47956:6401b737 successfully announced in 36.8033 ms
2025-11-12 08:39:50.840 +02:00 [INF] Server desktop-8dbdubg:47956:6401b737 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 08:39:50.950 +02:00 [INF] 2 servers were removed due to timeout
2025-11-12 08:39:51.186 +02:00 [INF] Server desktop-8dbdubg:47956:6401b737 all the dispatchers started
2025-11-12 08:39:51.473 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 08:39:51.473 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 08:39:51.550 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 96.1558ms
2025-11-12 08:39:51.628 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 175.8799ms
2025-11-12 08:39:51.691 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 08:39:51.792 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 101.0821ms
2025-11-12 08:40:03.629 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 08:40:04.025 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 08:40:04.070 +02:00 [INF] Route matched with {action = "GetAll", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[PaymentScheduler.Application.DTO.Response.PaymentResponseModel]] GetAll() on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:40:34.323 +02:00 [ERR] Execution RecurringJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
Operation cancelled by user.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.RecurringJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 423
   at Hangfire.Server.RecurringJobScheduler.EnqueueNextRecurringJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 203
   at Hangfire.Server.RecurringJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 176
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:9bef3f4e-775f-4a01-b187-809e29dc0ff3
Error Number:-2,State:0,Class:11
2025-11-12 08:40:34.324 +02:00 [ERR] Execution DelayedJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.DelayedJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 411
   at Hangfire.Server.DelayedJobScheduler.EnqueueNextScheduledJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 167
   at Hangfire.Server.DelayedJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 148
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:bf08643c-94c9-48b5-847d-d4fba78f34fd
Error Number:-2,State:0,Class:11
2025-11-12 08:40:39.445 +02:00 [ERR] Failed executing DbCommand (35,075ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[ConsecutiveFailures], [p].[CreatedAt], [p].[Description], [p].[DestinationAccount], [p].[FrequencyId], [p].[LastExecutionDate], [p].[LastFailureReason], [p].[NextExecutionDate], [p].[PayeeName], [p].[StartDate], [p].[StatusId], [p].[Title], [p].[UpdatedAt], [p].[UserSid]
FROM [Payments] AS [p]
ORDER BY [p].[CreatedAt] DESC
2025-11-12 08:40:39.479 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0b2391d9-e780-412d-aa88-8589550af89b
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0b2391d9-e780-412d-aa88-8589550af89b
Error Number:-2,State:0,Class:11
2025-11-12 08:40:39.715 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API) in 35630.0743ms
2025-11-12 08:40:39.724 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 08:40:39.738 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.GetAllPayments() in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 44
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll() in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 37
   at lambda_method36(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:0b2391d9-e780-412d-aa88-8589550af89b
Error Number:-2,State:0,Class:11
2025-11-12 08:40:39.910 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - 500 null text/plain; charset=utf-8 36282.184ms
2025-11-12 08:40:42.075 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 08:40:42.095 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 08:40:42.099 +02:00 [INF] Route matched with {action = "GetAll", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[PaymentScheduler.Application.DTO.Response.PaymentResponseModel]] GetAll() on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:40:55.888 +02:00 [WRN] Server desktop-8dbdubg:47956:6401b737 encountered an exception while sending heartbeat
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527
   at Hangfire.SqlServer.SqlServerConnection.<>c.<Heartbeat>b__23_0(SqlServerStorage storage, DbConnection connection, String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 553
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerConnection.Heartbeat(String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 548
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
ClientConnectionId:7e4d5448-4319-4dbf-9280-2387924772b7
Error Number:-2,State:0,Class:11
2025-11-12 08:41:09.681 +02:00 [ERR] Execution Worker is in the Failed state now due to an exception, execution will be retried in no more than 00:00:04
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Hangfire.SqlServer.SqlServerJobQueue.<>c.<FetchJob>b__14_0(SqlServerStorage storage, DbConnection connection, String[] queues) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 179
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerJobQueue.FetchJob(String[] queues) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 169
   at Hangfire.SqlServer.SqlServerJobQueue.DequeueUsingSlidingInvisibilityTimeout(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 143
   at Hangfire.SqlServer.SqlServerJobQueue.Dequeue(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 67
   at Hangfire.SqlServer.SqlServerConnection.FetchNextJob(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 81
   at Hangfire.Server.Worker.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\Worker.cs:line 107
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:9bef3f4e-775f-4a01-b187-809e29dc0ff3
Error Number:-2,State:0,Class:11
2025-11-12 08:41:12.602 +02:00 [ERR] An error occurred using the connection to database 'PaymentScheduler' on server 'DESKTOP-8DBDUBG'.
2025-11-12 08:41:12.617 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (121): The semaphore timeout period has expired.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:121,State:0,Class:20
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (121): The semaphore timeout period has expired.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:121,State:0,Class:20
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-12 08:41:12.818 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API) in 30712.1678ms
2025-11-12 08:41:12.826 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 08:41:12.834 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (121): The semaphore timeout period has expired.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:121,State:0,Class:20
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.GetAllPayments() in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 44
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll() in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 37
   at lambda_method36(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-11-12 08:41:12.870 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - 500 null text/plain; charset=utf-8 30795.1464ms
2025-11-12 08:41:28.339 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 08:41:28.367 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 08:41:28.370 +02:00 [INF] Route matched with {action = "GetAll", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[PaymentScheduler.Application.DTO.Response.PaymentResponseModel]] GetAll() on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:42:01.316 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:42:01.522 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:42:01.546 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:42:01.569 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:42:01.633 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 08:42:02.191 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 08:42:02.752 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 08:42:03.166 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 08:42:03.168 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 08:42:03.671 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 08:42:03.674 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 08:42:03.676 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 08:42:03.722 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 08:42:03.740 +02:00 [INF] Hosting environment: Development
2025-11-12 08:42:03.750 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 08:42:03.762 +02:00 [INF] Server desktop-8dbdubg:2684:b6c48a46 successfully announced in 39.1225 ms
2025-11-12 08:42:03.775 +02:00 [INF] Server desktop-8dbdubg:2684:b6c48a46 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 08:42:04.051 +02:00 [INF] Server desktop-8dbdubg:2684:b6c48a46 all the dispatchers started
2025-11-12 08:42:04.285 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 08:42:04.285 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 08:42:04.352 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 85.936ms
2025-11-12 08:42:04.455 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 191.9243ms
2025-11-12 08:42:04.499 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 08:42:04.598 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 99.494ms
2025-11-12 08:42:07.088 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 08:42:07.279 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-12 08:42:07.291 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-12 08:42:07.298 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - 401 0 null 210.7446ms
2025-11-12 08:42:17.650 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 08:42:17.826 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 08:42:17.870 +02:00 [INF] Route matched with {action = "GetAll", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[PaymentScheduler.Application.DTO.Response.PaymentResponseModel]] GetAll() on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:45:02.293 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:45:02.482 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:45:02.508 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:45:02.537 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:45:02.911 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 08:45:03.456 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 08:45:04.031 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 08:45:04.493 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 08:45:04.496 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 08:45:04.858 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 08:45:04.863 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 08:45:04.867 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 08:45:04.919 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 08:45:04.956 +02:00 [INF] Hosting environment: Development
2025-11-12 08:45:04.978 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 08:45:04.986 +02:00 [INF] Server desktop-8dbdubg:18728:2e229063 successfully announced in 68.9096 ms
2025-11-12 08:45:04.999 +02:00 [INF] Server desktop-8dbdubg:18728:2e229063 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 08:45:05.058 +02:00 [INF] 2 servers were removed due to timeout
2025-11-12 08:45:05.275 +02:00 [INF] Server desktop-8dbdubg:18728:2e229063 all the dispatchers started
2025-11-12 08:45:05.499 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 08:45:05.499 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 08:45:05.561 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 82.993ms
2025-11-12 08:45:05.678 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 201.7782ms
2025-11-12 08:45:05.731 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 08:45:05.825 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.4281ms
2025-11-12 08:45:13.861 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 08:45:14.168 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-12 08:45:14.180 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-12 08:45:14.183 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - 401 0 null 322.4107ms
2025-11-12 08:45:22.108 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/2 - null null
2025-11-12 08:45:22.133 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-12 08:45:22.141 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-12 08:45:22.148 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/2 - 401 0 null 41.6204ms
2025-11-12 08:45:30.069 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 08:45:30.270 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 08:45:30.320 +02:00 [INF] Route matched with {action = "GetAll", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[PaymentScheduler.Application.DTO.Response.PaymentResponseModel]] GetAll() on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 08:45:48.448 +02:00 [ERR] Execution RecurringJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.RecurringJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 423
   at Hangfire.Server.RecurringJobScheduler.EnqueueNextRecurringJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 203
   at Hangfire.Server.RecurringJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 176
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:9e40359d-79f3-469d-80e1-bef09576e076
Error Number:-2,State:0,Class:11
2025-11-12 08:45:53.413 +02:00 [ERR] Execution DelayedJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.DelayedJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 411
   at Hangfire.Server.DelayedJobScheduler.EnqueueNextScheduledJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 167
   at Hangfire.Server.DelayedJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 148
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:f4357741-268b-4fd3-adcb-e4be01f39539
Error Number:-2,State:0,Class:11
2025-11-12 08:45:56.289 +02:00 [INF] Executed DbCommand (25,648ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[ConsecutiveFailures], [p].[CreatedAt], [p].[Description], [p].[DestinationAccount], [p].[FrequencyId], [p].[LastExecutionDate], [p].[LastFailureReason], [p].[NextExecutionDate], [p].[PayeeName], [p].[StartDate], [p].[StatusId], [p].[Title], [p].[UpdatedAt], [p].[UserSid]
FROM [Payments] AS [p]
ORDER BY [p].[CreatedAt] DESC
2025-11-12 08:45:56.420 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[PaymentScheduler.Application.DTO.Response.PaymentResponseModel, PaymentScheduler.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-12 08:45:56.495 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API) in 26161.7001ms
2025-11-12 08:45:56.501 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 08:45:56.513 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - 499 null application/json; charset=utf-8 26445.4373ms
2025-11-12 08:49:56.631 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:49:56.821 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:49:56.865 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:49:56.889 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 08:49:57.289 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 08:49:57.779 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 08:49:58.453 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 08:49:58.984 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 08:49:58.988 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 08:49:59.211 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 08:49:59.214 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 08:49:59.217 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 08:49:59.269 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 08:49:59.272 +02:00 [INF] Hosting environment: Development
2025-11-12 08:49:59.277 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 08:49:59.317 +02:00 [INF] Server desktop-8dbdubg:1684:a0452f0d successfully announced in 49.6846 ms
2025-11-12 08:49:59.329 +02:00 [INF] Server desktop-8dbdubg:1684:a0452f0d is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 08:49:59.444 +02:00 [INF] 1 servers were removed due to timeout
2025-11-12 08:49:59.629 +02:00 [INF] Server desktop-8dbdubg:1684:a0452f0d all the dispatchers started
2025-11-12 08:50:00.261 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 08:50:00.261 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 08:50:00.364 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 117.536ms
2025-11-12 08:50:00.435 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 198.3977ms
2025-11-12 08:50:00.509 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 08:50:00.607 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 101.5046ms
2025-11-12 13:26:45.074 +02:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 13:26:45.214 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 13:26:45.230 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 13:26:45.244 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 13:26:45.539 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 13:26:46.185 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 13:26:46.572 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 13:26:46.990 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 13:26:46.993 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 13:26:47.093 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 13:26:47.097 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 13:26:47.101 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 13:26:47.130 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 13:26:47.135 +02:00 [INF] Hosting environment: Development
2025-11-12 13:26:47.139 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 13:26:47.165 +02:00 [INF] Server desktop-8dbdubg:49536:f4e11b92 successfully announced in 37.6972 ms
2025-11-12 13:26:47.172 +02:00 [INF] Server desktop-8dbdubg:49536:f4e11b92 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 13:26:47.210 +02:00 [INF] 2 servers were removed due to timeout
2025-11-12 13:26:47.325 +02:00 [INF] Server desktop-8dbdubg:49536:f4e11b92 all the dispatchers started
2025-11-12 13:26:47.755 +02:00 [WRN] Failed to process the job '147': an exception occurred. Retry attempt 10 of 10 will be performed in 01:51:26.
System.IO.FileNotFoundException: Could not load file or assembly 'NotificationSystem.Application, Culture=neutral, PublicKeyToken=null'. The system cannot find the file specified.
File name: 'NotificationSystem.Application, Culture=neutral, PublicKeyToken=null'
   at System.Reflection.RuntimeAssembly.InternalLoad(AssemblyName assemblyName, StackCrawlMark& stackMark, AssemblyLoadContext assemblyLoadContext, RuntimeAssembly requestingAssembly, Boolean throwOnFileNotFound)
   at System.Reflection.Assembly.Load(AssemblyName assemblyRef)
   at Hangfire.Common.TypeHelper.AssemblyResolver(String assemblyString) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 236
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.TypeHelper.CachedAssemblyResolver(AssemblyName assemblyName) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 195
   at System.Reflection.TypeNameParser.ResolveAssembly(String assemblyName)
   at System.Reflection.TypeNameParser.GetType(String typeName, ReadOnlySpan`1 nestedTypeNames, String assemblyNameIfAny)
   at System.Reflection.TypeNameParser.Parse()
   at System.Reflection.TypeNameParser.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Assembly requestingAssembly, Boolean throwOnError, Boolean ignoreCase, Boolean extensibleParser)
   at System.Type.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Boolean throwOnError)
   at Hangfire.Common.TypeHelper.<>c.<DefaultTypeResolver>b__20_0(String name) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 83
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.TypeHelper.DefaultTypeResolver(String typeName) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 75
   at Hangfire.Storage.InvocationData.<>c.<CachedDeserializeMethod>b__33_0(MethodDeserializerCacheKey key) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 339
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Storage.InvocationData.CachedDeserializeMethod(Func`2 typeResolver, String typeName, String methodName, String parameterTypes, Type& type, MethodInfo& methodInfo) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 335
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 100
2025-11-12 13:26:48.008 +02:00 [WRN] Failed to process the job '146': an exception occurred. Retry attempt 10 of 10 will be performed in 01:50:56.
System.IO.FileNotFoundException: Could not load file or assembly 'NotificationSystem.Application, Culture=neutral, PublicKeyToken=null'. The system cannot find the file specified.
File name: 'NotificationSystem.Application, Culture=neutral, PublicKeyToken=null'
   at System.Reflection.RuntimeAssembly.InternalLoad(AssemblyName assemblyName, StackCrawlMark& stackMark, AssemblyLoadContext assemblyLoadContext, RuntimeAssembly requestingAssembly, Boolean throwOnFileNotFound)
   at System.Reflection.Assembly.Load(AssemblyName assemblyRef)
   at Hangfire.Common.TypeHelper.AssemblyResolver(String assemblyString) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 236
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.TypeHelper.CachedAssemblyResolver(AssemblyName assemblyName) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 195
   at System.Reflection.TypeNameParser.ResolveAssembly(String assemblyName)
   at System.Reflection.TypeNameParser.GetType(String typeName, ReadOnlySpan`1 nestedTypeNames, String assemblyNameIfAny)
   at System.Reflection.TypeNameParser.Parse()
   at System.Reflection.TypeNameParser.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Assembly requestingAssembly, Boolean throwOnError, Boolean ignoreCase, Boolean extensibleParser)
   at System.Type.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Boolean throwOnError)
   at Hangfire.Common.TypeHelper.<>c.<DefaultTypeResolver>b__20_0(String name) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 83
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.TypeHelper.DefaultTypeResolver(String typeName) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 75
   at Hangfire.Storage.InvocationData.<>c.<CachedDeserializeMethod>b__33_0(MethodDeserializerCacheKey key) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 339
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Storage.InvocationData.CachedDeserializeMethod(Func`2 typeResolver, String typeName, String methodName, String parameterTypes, Type& type, MethodInfo& methodInfo) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 335
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 100
2025-11-12 13:26:48.059 +02:00 [WRN] Failed to process the job '148': an exception occurred. Retry attempt 10 of 10 will be performed in 01:50:56.
System.IO.FileNotFoundException: Could not load file or assembly 'NotificationSystem.Application, Culture=neutral, PublicKeyToken=null'. The system cannot find the file specified.
File name: 'NotificationSystem.Application, Culture=neutral, PublicKeyToken=null'
   at System.Reflection.RuntimeAssembly.InternalLoad(AssemblyName assemblyName, StackCrawlMark& stackMark, AssemblyLoadContext assemblyLoadContext, RuntimeAssembly requestingAssembly, Boolean throwOnFileNotFound)
   at System.Reflection.Assembly.Load(AssemblyName assemblyRef)
   at Hangfire.Common.TypeHelper.AssemblyResolver(String assemblyString) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 236
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.TypeHelper.CachedAssemblyResolver(AssemblyName assemblyName) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 195
   at System.Reflection.TypeNameParser.ResolveAssembly(String assemblyName)
   at System.Reflection.TypeNameParser.GetType(String typeName, ReadOnlySpan`1 nestedTypeNames, String assemblyNameIfAny)
   at System.Reflection.TypeNameParser.Parse()
   at System.Reflection.TypeNameParser.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Assembly requestingAssembly, Boolean throwOnError, Boolean ignoreCase, Boolean extensibleParser)
   at System.Type.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Boolean throwOnError)
   at Hangfire.Common.TypeHelper.<>c.<DefaultTypeResolver>b__20_0(String name) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 83
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.TypeHelper.DefaultTypeResolver(String typeName) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 75
   at Hangfire.Storage.InvocationData.<>c.<CachedDeserializeMethod>b__33_0(MethodDeserializerCacheKey key) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 339
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Storage.InvocationData.CachedDeserializeMethod(Func`2 typeResolver, String typeName, String methodName, String parameterTypes, Type& type, MethodInfo& methodInfo) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 335
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 100
2025-11-12 13:26:48.200 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 13:26:48.200 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 13:26:48.247 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 58.056ms
2025-11-12 13:26:48.349 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 161.4784ms
2025-11-12 13:26:48.384 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 13:26:48.444 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.8085ms
2025-11-12 13:27:20.868 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Create - application/json 245
2025-11-12 13:27:21.103 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Create (PaymentScheduler.API)'
2025-11-12 13:27:21.159 +02:00 [INF] Route matched with {action = "Create", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PaymentScheduler.Application.DTO.Response.PaymentResponseModel]] Create(PaymentScheduler.Application.DTO.Request.CreatePaymentRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 13:27:21.686 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (Size = 255), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (Size = 200), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (Size = 100), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([Amount], [ConsecutiveFailures], [CreatedAt], [Description], [DestinationAccount], [FrequencyId], [LastExecutionDate], [LastFailureReason], [NextExecutionDate], [PayeeName], [StartDate], [StatusId], [Title], [UpdatedAt], [UserSid])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-11-12 13:27:25.434 +02:00 [INF] Executing ObjectResult, writing value of type 'PaymentScheduler.Application.DTO.Response.PaymentResponseModel'.
2025-11-12 13:27:25.466 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Create (PaymentScheduler.API) in 4295.1404ms
2025-11-12 13:27:25.474 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Create (PaymentScheduler.API)'
2025-11-12 13:27:25.489 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Create - 200 null application/json; charset=utf-8 4621.2702ms
2025-11-12 13:27:26.504 +02:00 [INF] Execution DelayedJobScheduler recovered from the Faulted state after 00:00:17.3546933 and is in the Running state now
2025-11-12 13:27:27.484 +02:00 [INF] Execution RecurringJobScheduler recovered from the Faulted state after 00:00:16.0075126 and is in the Running state now
2025-11-12 13:32:11.605 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 13:32:11.804 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 13:32:11.848 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 13:32:11.876 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 13:32:11.944 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 13:32:12.480 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 13:32:13.028 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 13:32:13.466 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 13:32:13.469 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 13:32:13.713 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 13:32:13.716 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 13:32:13.721 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 13:32:13.777 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 13:32:13.784 +02:00 [INF] Hosting environment: Development
2025-11-12 13:32:13.788 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 13:32:13.829 +02:00 [INF] Server desktop-8dbdubg:28192:2d0946c8 successfully announced in 62.4448 ms
2025-11-12 13:32:13.846 +02:00 [INF] Server desktop-8dbdubg:28192:2d0946c8 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 13:32:14.053 +02:00 [INF] Server desktop-8dbdubg:28192:2d0946c8 all the dispatchers started
2025-11-12 13:32:14.142 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 13:32:14.142 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 13:32:14.217 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 81.7438ms
2025-11-12 13:32:14.278 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 152.1601ms
2025-11-12 13:32:14.314 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 13:32:14.393 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 79.5393ms
2025-11-12 13:32:20.770 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - null null
2025-11-12 13:32:21.012 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 13:32:21.070 +02:00 [INF] Route matched with {action = "GetAll", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[PaymentScheduler.Application.DTO.Response.PaymentResponseModel]] GetAll() on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 13:32:21.451 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[ConsecutiveFailures], [p].[CreatedAt], [p].[Description], [p].[DestinationAccount], [p].[FrequencyId], [p].[LastExecutionDate], [p].[LastFailureReason], [p].[NextExecutionDate], [p].[PayeeName], [p].[StartDate], [p].[StatusId], [p].[Title], [p].[UpdatedAt], [p].[UserSid]
FROM [Payments] AS [p]
ORDER BY [p].[CreatedAt] DESC
2025-11-12 13:32:21.607 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[PaymentScheduler.Application.DTO.Response.PaymentResponseModel, PaymentScheduler.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-12 13:32:21.687 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API) in 602.95ms
2025-11-12 13:32:21.697 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetAll (PaymentScheduler.API)'
2025-11-12 13:32:21.712 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/GetAll - 200 null application/json; charset=utf-8 942.1699ms
2025-11-12 13:32:29.310 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/3 - null null
2025-11-12 13:32:29.335 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetById (PaymentScheduler.API)'
2025-11-12 13:32:29.363 +02:00 [INF] Route matched with {action = "GetById", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PaymentScheduler.Application.DTO.Response.PaymentResponseModel]] GetById(Int32) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 13:32:44.007 +02:00 [INF] Executed DbCommand (14,485ms) [Parameters=[@__paymentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Amount], [p].[ConsecutiveFailures], [p].[CreatedAt], [p].[Description], [p].[DestinationAccount], [p].[FrequencyId], [p].[LastExecutionDate], [p].[LastFailureReason], [p].[NextExecutionDate], [p].[PayeeName], [p].[StartDate], [p].[StatusId], [p].[Title], [p].[UpdatedAt], [p].[UserSid]
FROM [Payments] AS [p]
WHERE [p].[Id] = @__paymentId_0
2025-11-12 13:32:44.026 +02:00 [INF] Executing ObjectResult, writing value of type 'PaymentScheduler.Application.DTO.Response.PaymentResponseModel'.
2025-11-12 13:32:44.035 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.GetById (PaymentScheduler.API) in 14667.9841ms
2025-11-12 13:32:44.042 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.GetById (PaymentScheduler.API)'
2025-11-12 13:32:44.050 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/api/v1/RecurringPayments/3 - 200 null application/json; charset=utf-8 14740.7256ms
2025-11-12 13:32:57.127 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7262/api/v1/RecurringPayments/Delete?id=4 - null null
2025-11-12 13:32:57.158 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Delete (PaymentScheduler.API)'
2025-11-12 13:32:57.178 +02:00 [INF] Route matched with {action = "Delete", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] Delete(Int32) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 13:32:57.198 +02:00 [ERR] Execution RecurringJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.RecurringJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 423
   at Hangfire.Server.RecurringJobScheduler.EnqueueNextRecurringJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 203
   at Hangfire.Server.RecurringJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 176
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:9aecfd44-5a63-43e6-9f52-6076659f38c7
Error Number:-2,State:0,Class:11
2025-11-12 13:32:59.016 +02:00 [INF] Execution DelayedJobScheduler recovered from the Faulted state after 00:00:18.8693604 and is in the Running state now
2025-11-12 13:33:27.066 +02:00 [ERR] Execution DelayedJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
Operation cancelled by user.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.DelayedJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 411
   at Hangfire.Server.DelayedJobScheduler.EnqueueNextScheduledJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 167
   at Hangfire.Server.DelayedJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 148
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:4e7a8777-5ff1-461b-9073-e356f92054e7
Error Number:-2,State:0,Class:11
2025-11-12 13:33:32.369 +02:00 [ERR] Failed executing DbCommand (35,105ms) [Parameters=[@__paymentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Amount], [p].[ConsecutiveFailures], [p].[CreatedAt], [p].[Description], [p].[DestinationAccount], [p].[FrequencyId], [p].[LastExecutionDate], [p].[LastFailureReason], [p].[NextExecutionDate], [p].[PayeeName], [p].[StartDate], [p].[StatusId], [p].[Title], [p].[UpdatedAt], [p].[UserSid]
FROM [Payments] AS [p]
WHERE [p].[Id] = @__paymentId_0
2025-11-12 13:33:32.397 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:7793e9cc-a240-4f86-9340-bbf459d471c3
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:7793e9cc-a240-4f86-9340-bbf459d471c3
Error Number:-2,State:0,Class:11
2025-11-12 13:33:32.611 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Delete (PaymentScheduler.API) in 35424.826ms
2025-11-12 13:33:32.618 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Delete (PaymentScheduler.API)'
2025-11-12 13:33:32.631 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.DeletePayment(Int32 paymentId) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 174
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.Delete(Int32 id) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 56
   at lambda_method76(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:7793e9cc-a240-4f86-9340-bbf459d471c3
Error Number:-2,State:0,Class:11
2025-11-12 13:33:32.758 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7262/api/v1/RecurringPayments/Delete?id=4 - 500 null text/plain; charset=utf-8 35631.8075ms
2025-11-12 13:33:35.130 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7262/api/v1/RecurringPayments/Delete?id=4 - null null
2025-11-12 13:33:35.141 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Delete (PaymentScheduler.API)'
2025-11-12 13:33:35.144 +02:00 [INF] Route matched with {action = "Delete", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] Delete(Int32) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 13:33:49.007 +02:00 [WRN] Server desktop-8dbdubg:28192:2d0946c8 encountered an exception while sending heartbeat
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527
   at Hangfire.SqlServer.SqlServerConnection.<>c.<Heartbeat>b__23_0(SqlServerStorage storage, DbConnection connection, String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 553
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerConnection.Heartbeat(String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 548
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
ClientConnectionId:89c382d2-57bb-41dd-a775-fb07d4832139
Error Number:-2,State:0,Class:11
2025-11-12 13:33:51.333 +02:00 [ERR] Execution Worker is in the Failed state now due to an exception, execution will be retried in no more than 00:00:04
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Hangfire.SqlServer.SqlServerJobQueue.<>c.<FetchJob>b__14_0(SqlServerStorage storage, DbConnection connection, String[] queues) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 179
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerJobQueue.FetchJob(String[] queues) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 169
   at Hangfire.SqlServer.SqlServerJobQueue.DequeueUsingSlidingInvisibilityTimeout(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 103
   at Hangfire.SqlServer.SqlServerJobQueue.Dequeue(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 67
   at Hangfire.SqlServer.SqlServerConnection.FetchNextJob(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 81
   at Hangfire.Server.Worker.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\Worker.cs:line 107
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:30847ef6-e11d-4df6-b4a6-a6d25e103eb2
Error Number:-2,State:0,Class:11
2025-11-12 13:34:10.270 +02:00 [ERR] Failed executing DbCommand (35,065ms) [Parameters=[@__paymentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Amount], [p].[ConsecutiveFailures], [p].[CreatedAt], [p].[Description], [p].[DestinationAccount], [p].[FrequencyId], [p].[LastExecutionDate], [p].[LastFailureReason], [p].[NextExecutionDate], [p].[PayeeName], [p].[StartDate], [p].[StatusId], [p].[Title], [p].[UpdatedAt], [p].[UserSid]
FROM [Payments] AS [p]
WHERE [p].[Id] = @__paymentId_0
2025-11-12 13:34:10.279 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:42d32cf2-0137-4c8b-93f6-44b0893f7887
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:42d32cf2-0137-4c8b-93f6-44b0893f7887
Error Number:-2,State:0,Class:11
2025-11-12 13:34:10.474 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Delete (PaymentScheduler.API) in 35325.4601ms
2025-11-12 13:34:10.481 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Delete (PaymentScheduler.API)'
2025-11-12 13:34:10.489 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PaymentScheduler.Application.Services.PaymentRepository.DeletePayment(Int32 paymentId) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\PaymentRepository.cs:line 174
   at PaymentScheduler.API.Controllers.RecurringPaymentsController.Delete(Int32 id) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API\Controllers\PaymentController.cs:line 56
   at lambda_method76(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:42d32cf2-0137-4c8b-93f6-44b0893f7887
Error Number:-2,State:0,Class:11
2025-11-12 13:34:10.537 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7262/api/v1/RecurringPayments/Delete?id=4 - 500 null text/plain; charset=utf-8 35407.4005ms
2025-11-12 13:34:20.103 +02:00 [INF] Server desktop-8dbdubg:28192:2d0946c8 is now able to continue sending heartbeats
2025-11-12 13:34:35.521 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7262/api/v1/RecurringPayments/Delete?id=4 - null null
2025-11-12 13:34:35.537 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Delete (PaymentScheduler.API)'
2025-11-12 13:34:35.539 +02:00 [INF] Route matched with {action = "Delete", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] Delete(Int32) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 13:34:35.607 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__paymentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Amount], [p].[ConsecutiveFailures], [p].[CreatedAt], [p].[Description], [p].[DestinationAccount], [p].[FrequencyId], [p].[LastExecutionDate], [p].[LastFailureReason], [p].[NextExecutionDate], [p].[PayeeName], [p].[StartDate], [p].[StatusId], [p].[Title], [p].[UpdatedAt], [p].[UserSid]
FROM [Payments] AS [p]
WHERE [p].[Id] = @__paymentId_0
2025-11-12 13:34:36.035 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Payments] SET [StatusId] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-11-12 13:34:36.066 +02:00 [INF] Cancelled recurring payment 4
2025-11-12 13:34:36.070 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Boolean'.
2025-11-12 13:34:36.080 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Delete (PaymentScheduler.API) in 537.8525ms
2025-11-12 13:34:36.086 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Delete (PaymentScheduler.API)'
2025-11-12 13:34:36.089 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7262/api/v1/RecurringPayments/Delete?id=4 - 200 null application/json; charset=utf-8 569.7736ms
2025-11-12 13:34:44.162 +02:00 [INF] Execution DelayedJobScheduler recovered from the Failed state after 00:01:17.0701893 and is in the Running state now
2025-11-12 13:34:56.432 +02:00 [INF] Execution RecurringJobScheduler recovered from the Failed state after 00:01:59.1383996 and is in the Running state now
2025-11-12 13:41:54.708 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 13:42:30.006 +02:00 [ERR] Failed executing DbCommand (35,124ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 13:42:30.072 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PaymentScheduler.Infrastructure.Context.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:e7048401-1850-494f-acff-746cc8f01ce6
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:e7048401-1850-494f-acff-746cc8f01ce6
Error Number:-2,State:0,Class:11
2025-11-12 13:43:21.421 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 13:43:21.592 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 13:43:21.626 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 13:43:21.649 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 13:43:22.008 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 13:43:22.595 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 13:43:23.217 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 13:43:23.940 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 13:43:23.944 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 13:43:24.232 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 13:43:24.236 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 13:43:24.239 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 13:43:24.303 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 13:43:24.312 +02:00 [INF] Hosting environment: Development
2025-11-12 13:43:24.316 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 13:43:24.344 +02:00 [INF] Server desktop-8dbdubg:37880:82cd23e8 successfully announced in 46.6225 ms
2025-11-12 13:43:24.359 +02:00 [INF] Server desktop-8dbdubg:37880:82cd23e8 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 13:43:24.394 +02:00 [INF] 2 servers were removed due to timeout
2025-11-12 13:43:24.611 +02:00 [INF] Server desktop-8dbdubg:37880:82cd23e8 all the dispatchers started
2025-11-12 13:43:24.801 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 13:43:24.802 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 13:43:24.865 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 84.2607ms
2025-11-12 13:43:24.984 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 204.7487ms
2025-11-12 13:43:25.037 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 13:43:25.122 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.9793ms
2025-11-12 13:43:42.099 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 50
2025-11-12 13:43:42.360 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 13:43:42.417 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 13:43:42.920 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@__request_Username_0='?' (Size = 100), @__request_Password_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[UserName] = @__request_Username_0 AND [u].[Password] = @__request_Password_1
2025-11-12 13:43:42.970 +02:00 [INF] Executing ObjectResult, writing value of type 'null'.
2025-11-12 13:43:42.980 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 545.339ms
2025-11-12 13:43:42.986 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 13:43:43.013 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 204 null null 914.7498ms
2025-11-12 13:44:10.355 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - application/json 53
2025-11-12 13:44:10.384 +02:00 [INF] Executing endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 13:44:10.392 +02:00 [INF] Route matched with {action = "Login", controller = "RecurringPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.String] Login(PaymentScheduler.Application.DTO.Request.LoginRequestModel) on controller PaymentScheduler.API.Controllers.RecurringPaymentsController (PaymentScheduler.API).
2025-11-12 13:44:32.407 +02:00 [INF] Executed DbCommand (21,963ms) [Parameters=[@__request_Username_0='?' (Size = 100), @__request_Password_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[UserName] = @__request_Username_0 AND [u].[Password] = @__request_Password_1
2025-11-12 13:44:32.414 +02:00 [INF] Executing ObjectResult, writing value of type 'null'.
2025-11-12 13:44:32.417 +02:00 [INF] Executed action PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API) in 22016.1039ms
2025-11-12 13:44:32.421 +02:00 [INF] Executed endpoint 'PaymentScheduler.API.Controllers.RecurringPaymentsController.Login (PaymentScheduler.API)'
2025-11-12 13:44:32.425 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/api/v1/RecurringPayments/Login - 204 null null 22088.7842ms
2025-11-12 13:55:00.058 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 13:55:00.247 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 13:55:00.276 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 13:55:00.298 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 13:55:00.688 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 13:55:01.178 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 13:55:01.757 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 13:55:02.243 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 13:55:02.248 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 13:55:02.518 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 13:55:02.521 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 13:55:02.525 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 13:55:02.598 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 13:55:02.601 +02:00 [INF] Hosting environment: Development
2025-11-12 13:55:02.603 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 13:55:02.632 +02:00 [INF] Server desktop-8dbdubg:24224:2d0d5568 successfully announced in 37.1525 ms
2025-11-12 13:55:02.645 +02:00 [INF] Server desktop-8dbdubg:24224:2d0d5568 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 13:55:02.679 +02:00 [INF] 1 servers were removed due to timeout
2025-11-12 13:55:02.919 +02:00 [INF] Server desktop-8dbdubg:24224:2d0d5568 all the dispatchers started
2025-11-12 13:55:03.172 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 13:55:03.172 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 13:55:03.272 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 142.0268ms
2025-11-12 13:55:03.344 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 216.3904ms
2025-11-12 13:55:03.395 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 13:55:03.498 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 103.5494ms
2025-11-12 13:55:12.668 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/hangfire/recurring - null null
2025-11-12 13:55:14.218 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/hangfire/recurring/recurring - null null
2025-11-12 13:55:41.091 +02:00 [ERR] Execution RecurringJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
Operation cancelled by user.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.RecurringJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 423
   at Hangfire.Server.RecurringJobScheduler.EnqueueNextRecurringJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 203
   at Hangfire.Server.RecurringJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 176
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:d147ef05-63e6-4d16-8573-f10f1853412d
Error Number:-2,State:0,Class:11
2025-11-12 13:55:46.107 +02:00 [ERR] Execution DelayedJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
Operation cancelled by user.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Hangfire.SqlServer.SqlServerDistributedLock.Acquire(DbConnection connection, String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerDistributedLock.cs:line 203
   at Hangfire.SqlServer.SqlServerConnection.AcquireLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 810
   at Hangfire.SqlServer.SqlServerConnection.AcquireDistributedLock(String resource, TimeSpan timeout) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 67
   at Hangfire.Server.DelayedJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 411
   at Hangfire.Server.DelayedJobScheduler.EnqueueNextScheduledJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 167
   at Hangfire.Server.DelayedJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 148
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:862bb51e-7549-4da2-9cf1-0995e8d16d01
Error Number:-2,State:0,Class:11
2025-11-12 13:55:48.165 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Dapper.SqlMapper.ExecuteReaderWithFlagsFallback(IDbCommand cmd, Boolean wasClosed, CommandBehavior behavior) in /_/Dapper/SqlMapper.cs:line 1156
   at Dapper.SqlMapper.QueryImpl[T](IDbConnection cnn, CommandDefinition command, Type effectiveType)+MoveNext() in /_/Dapper/SqlMapper.cs:line 1184
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Dapper.SqlMapper.Query[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 815
   at Dapper.SqlMapper.Query(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Boolean buffered, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 737
   at Hangfire.SqlServer.SqlServerMonitoringApi.GetTimelineStats(DbConnection connection, IDictionary`2 keyMaps) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerMonitoringApi.cs:line 539
   at Hangfire.SqlServer.SqlServerMonitoringApi.GetHourlyTimelineStats(DbConnection connection, String type) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerMonitoringApi.cs:line 513
   at Hangfire.SqlServer.SqlServerMonitoringApi.<HourlySucceededJobs>b__22_0(DbConnection connection) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerMonitoringApi.cs:line 349
   at Hangfire.SqlServer.SqlServerMonitoringApi.<>c__33`1.<UseConnection>b__33_0(SqlServerStorage _, DbConnection connection, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerMonitoringApi.cs:line 570
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerMonitoringApi.UseConnection[T](Func`2 action) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerMonitoringApi.cs:line 570
   at Hangfire.SqlServer.SqlServerMonitoringApi.HourlySucceededJobs() in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerMonitoringApi.cs:line 348
   at Hangfire.Dashboard.Pages.HomePage.Execute() in C:\projects\hangfire-525\src\Hangfire.Core\Dashboard\Pages\HomePage.cshtml:line 31
   at Hangfire.Dashboard.RazorPage.TransformText(String body) in C:\projects\hangfire-525\src\Hangfire.Core\Dashboard\RazorPage.cs:line 179
   at Hangfire.Dashboard.RazorPage.ToString() in C:\projects\hangfire-525\src\Hangfire.Core\Dashboard\RazorPage.cs:line 103
   at Hangfire.Dashboard.RazorPageDispatcher.Dispatch(DashboardContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Dashboard\RazorPageDispatcher.cs:line 38
   at Hangfire.Dashboard.AspNetCoreDashboardMiddleware.Invoke(HttpContext httpContext) in C:\projects\hangfire-525\src\Hangfire.AspNetCore\Dashboard\AspNetCoreDashboardMiddleware.cs:line 121
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.InvokeCore(HttpContext context, PathString matchedPath, PathString remainingPath)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:9b6e7918-9737-4174-a36c-2641fd755694
Error Number:-2,State:0,Class:11
2025-11-12 13:55:48.329 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/hangfire/recurring - 500 null text/html; charset=utf-8 35660.9355ms
2025-11-12 13:55:49.284 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteScalar()
   at Dapper.SqlMapper.ExecuteScalarImpl[T](IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 2994
   at Dapper.SqlMapper.ExecuteScalar[T](IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 568
   at Hangfire.SqlServer.SqlServerConnection.<>c.<GetSetCount>b__25_0(SqlServerStorage storage, DbConnection connection, String key) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 585
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerConnection.GetSetCount(String key) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 585
   at Hangfire.Storage.StorageConnectionExtensions.GetRecurringJobCount(JobStorageConnection connection) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\StorageConnectionExtensions.cs:line 52
   at Hangfire.Dashboard.Pages.RecurringJobsPage.Execute() in C:\projects\hangfire-525\src\Hangfire.Core\Dashboard\Pages\RecurringJobsPage.cshtml:line 27
   at Hangfire.Dashboard.RazorPage.TransformText(String body) in C:\projects\hangfire-525\src\Hangfire.Core\Dashboard\RazorPage.cs:line 179
   at Hangfire.Dashboard.RazorPage.ToString() in C:\projects\hangfire-525\src\Hangfire.Core\Dashboard\RazorPage.cs:line 103
   at Hangfire.Dashboard.RazorPageDispatcher.Dispatch(DashboardContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Dashboard\RazorPageDispatcher.cs:line 38
   at Hangfire.Dashboard.AspNetCoreDashboardMiddleware.Invoke(HttpContext httpContext) in C:\projects\hangfire-525\src\Hangfire.AspNetCore\Dashboard\AspNetCoreDashboardMiddleware.cs:line 121
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.InvokeCore(HttpContext context, PathString matchedPath, PathString remainingPath)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:74740ffe-535f-455f-952a-c3e1297a6132
Error Number:-2,State:0,Class:11
2025-11-12 13:55:49.350 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/hangfire/recurring/recurring - 500 null text/html; charset=utf-8 35132.2042ms
2025-11-12 13:55:49.392 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 13:55:49.392 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 13:55:49.409 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 18.177ms
2025-11-12 13:55:49.442 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.4985ms
2025-11-12 13:55:49.504 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/favicon.ico - null null
2025-11-12 13:55:49.514 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/favicon.ico - 404 0 null 10.7047ms
2025-11-12 13:55:49.523 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7262/favicon.ico, Response status code: 404
2025-11-12 13:55:58.765 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/hangfire/recurring/recurring - null null
2025-11-12 13:56:07.691 +02:00 [WRN] Server desktop-8dbdubg:24224:2d0d5568 encountered an exception while sending heartbeat
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2965
   at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 656
   at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 527
   at Hangfire.SqlServer.SqlServerConnection.<>c.<Heartbeat>b__23_0(SqlServerStorage storage, DbConnection connection, String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 553
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerConnection.Heartbeat(String serverId) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 548
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
ClientConnectionId:43c4e225-de5e-400c-8aaa-e483cd91ee72
Error Number:-2,State:0,Class:11
2025-11-12 13:56:17.680 +02:00 [ERR] Execution Worker is in the Failed state now due to an exception, execution will be retried in no more than 00:00:04
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Hangfire.SqlServer.SqlServerJobQueue.<>c.<FetchJob>b__14_0(SqlServerStorage storage, DbConnection connection, String[] queues) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 179
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[TContext,TResult](DbConnection dedicatedConnection, Func`4 func, TContext context) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerStorage.cs:line 292
   at Hangfire.SqlServer.SqlServerJobQueue.FetchJob(String[] queues) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 169
   at Hangfire.SqlServer.SqlServerJobQueue.DequeueUsingSlidingInvisibilityTimeout(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 103
   at Hangfire.SqlServer.SqlServerJobQueue.Dequeue(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerJobQueue.cs:line 67
   at Hangfire.SqlServer.SqlServerConnection.FetchNextJob(String[] queues, CancellationToken cancellationToken) in C:\projects\hangfire-525\src\Hangfire.SqlServer\SqlServerConnection.cs:line 81
   at Hangfire.Server.Worker.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\Worker.cs:line 107
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
ClientConnectionId:862bb51e-7549-4da2-9cf1-0995e8d16d01
Error Number:-2,State:0,Class:11
2025-11-12 13:56:18.091 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/hangfire/recurring/css18220732009995 - null null
2025-11-12 13:56:18.094 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/hangfire/recurring/recurring - 200 null text/html 19328.7742ms
2025-11-12 13:56:18.108 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/hangfire/recurring/css-dark182201548218256 - null null
2025-11-12 13:56:18.110 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/hangfire/recurring/js182201672912590 - null null
2025-11-12 13:56:18.126 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 13:56:18.110 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 13:56:18.182 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/hangfire/recurring/css-dark182201548218256 - 200 null text/css 73.4731ms
2025-11-12 13:56:18.220 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 107.6065ms
2025-11-12 13:56:18.221 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/hangfire/recurring/css18220732009995 - 200 null text/css 131.128ms
2025-11-12 13:56:18.255 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/hangfire/recurring/js182201672912590 - 200 null application/javascript 144.2595ms
2025-11-12 13:56:18.257 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 130.9124ms
2025-11-12 13:56:20.355 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:56:26.001 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 5646.5283ms
2025-11-12 13:56:28.029 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:56:28.044 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 15.5503ms
2025-11-12 13:56:30.066 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:56:30.076 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 9.8816ms
2025-11-12 13:56:32.100 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:56:32.124 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 24.8905ms
2025-11-12 13:56:32.714 +02:00 [INF] Execution DelayedJobScheduler recovered from the Failed state after 00:00:46.5891500 and is in the Running state now
2025-11-12 13:56:32.714 +02:00 [INF] Execution RecurringJobScheduler recovered from the Failed state after 00:00:51.5216922 and is in the Running state now
2025-11-12 13:56:34.135 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:56:34.149 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 14.8936ms
2025-11-12 13:56:36.168 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:56:44.367 +02:00 [INF] Server desktop-8dbdubg:24224:2d0d5568 is now able to continue sending heartbeats
2025-11-12 13:56:44.394 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 8226.6887ms
2025-11-12 13:56:46.412 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:56:46.428 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 16.8884ms
2025-11-12 13:56:48.451 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:56:48.462 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 13.1152ms
2025-11-12 13:56:50.472 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:56:52.935 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/recurring/trigger - application/x-www-form-urlencoded; charset=UTF-8 29
2025-11-12 13:56:54.482 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 4009.8601ms
2025-11-12 13:56:54.753 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/recurring/trigger - 204 null null 1818.7773ms
2025-11-12 13:56:54.790 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/hangfire/recurring/recurring - null null
2025-11-12 13:56:54.917 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/hangfire/recurring/recurring - 200 null text/html 126.9831ms
2025-11-12 13:56:54.951 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 13:56:54.963 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 13:56:54.993 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.4755ms
2025-11-12 13:56:54.998 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 34.5241ms
2025-11-12 13:56:55.510 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[ConsecutiveFailures], [p].[CreatedAt], [p].[Description], [p].[DestinationAccount], [p].[FrequencyId], [p].[LastExecutionDate], [p].[LastFailureReason], [p].[NextExecutionDate], [p].[PayeeName], [p].[StartDate], [p].[StatusId], [p].[Title], [p].[UpdatedAt], [p].[UserSid]
FROM [Payments] AS [p]
INNER JOIN [Status] AS [s] ON [p].[StatusId] = [s].[Id]
WHERE [s].[Name] = N'Active' AND [p].[NextExecutionDate] <= GETUTCDATE()
2025-11-12 13:56:59.820 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:56:59.823 +02:00 [INF] Found 3 due payments to process at "2025-11-12T11:56:59.8151180Z". Payment IDs: 1,2,3
2025-11-12 13:56:59.832 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 12.0833ms
2025-11-12 13:56:59.903 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__payment_UserSid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[Sid] = @__payment_UserSid_0
2025-11-12 13:57:00.368 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentExecutions] ([Amount], [ExecutedAt], [FailureReason], [PaymentId], [RecurringPaymentId], [Success])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Payments] SET [ConsecutiveFailures] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-11-12 13:57:00.447 +02:00 [ERR] Error processing payment 1 for user "89a71d20-2447-4b1c-822d-51d703b86655"
System.Exception: User account not found.
   at PaymentScheduler.Application.Services.Hangfire.PaymentJob.ProcessPayment(Payment payment) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\Hangfire\PaymentJob.cs:line 56
2025-11-12 13:57:00.500 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__payment_UserSid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[Sid] = @__payment_UserSid_0
2025-11-12 13:57:00.546 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentExecutions] ([Amount], [ExecutedAt], [FailureReason], [PaymentId], [RecurringPaymentId], [Success])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Payments] SET [ConsecutiveFailures] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-11-12 13:57:00.557 +02:00 [ERR] Error processing payment 2 for user "4bcb4a89-e640-40b3-994e-73699ecd530f"
System.Exception: User account not found.
   at PaymentScheduler.Application.Services.Hangfire.PaymentJob.ProcessPayment(Payment payment) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\Hangfire\PaymentJob.cs:line 56
2025-11-12 13:57:00.572 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__payment_UserSid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[Sid] = @__payment_UserSid_0
2025-11-12 13:57:00.617 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentExecutions] ([Amount], [ExecutedAt], [FailureReason], [PaymentId], [RecurringPaymentId], [Success])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Payments] SET [ConsecutiveFailures] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-11-12 13:57:00.627 +02:00 [ERR] Error processing payment 3 for user "22713f1a-9963-432e-91b0-51d4376aa007"
System.Exception: User account not found.
   at PaymentScheduler.Application.Services.Hangfire.PaymentJob.ProcessPayment(Payment payment) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\Hangfire\PaymentJob.cs:line 56
2025-11-12 13:57:00.683 +02:00 [INF] Execution Worker recovered from the Failed state after 00:00:42.9875356 and is in the Running state now
2025-11-12 13:57:01.854 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:01.873 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 19.1314ms
2025-11-12 13:57:04.349 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:04.367 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 17.9482ms
2025-11-12 13:57:07.350 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:07.365 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 14.5692ms
2025-11-12 13:57:10.348 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:10.359 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 10.5741ms
2025-11-12 13:57:13.352 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:13.365 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 13.205ms
2025-11-12 13:57:16.351 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:16.371 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 20.8114ms
2025-11-12 13:57:19.343 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:19.354 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 12.8644ms
2025-11-12 13:57:22.357 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:22.372 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 14.8497ms
2025-11-12 13:57:25.350 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:25.360 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 11.0748ms
2025-11-12 13:57:28.345 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:28.355 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 10.5137ms
2025-11-12 13:57:31.345 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:31.359 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 15.0617ms
2025-11-12 13:57:34.345 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:34.362 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 18.9646ms
2025-11-12 13:57:37.347 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:37.361 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 15.576ms
2025-11-12 13:57:40.343 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:40.359 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 17.8471ms
2025-11-12 13:57:43.346 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:43.357 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 11.3425ms
2025-11-12 13:57:46.345 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:46.362 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 18.1426ms
2025-11-12 13:57:49.349 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:49.362 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 14.4599ms
2025-11-12 13:57:52.353 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:52.364 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 10.731ms
2025-11-12 13:57:55.347 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:57:55.416 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 68.8043ms
2025-11-12 13:57:58.344 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:58:00.211 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 1867.0209ms
2025-11-12 13:58:02.347 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:58:02.378 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 31.6033ms
2025-11-12 13:58:05.345 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:58:05.356 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 12.7457ms
2025-11-12 13:58:08.341 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:58:08.350 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 9.5389ms
2025-11-12 13:58:11.350 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:58:11.373 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 22.8235ms
2025-11-12 13:58:14.489 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:58:22.105 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 7616.9191ms
2025-11-12 13:58:24.123 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:58:24.134 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 10.7005ms
2025-11-12 13:58:26.145 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:58:26.162 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 17.7602ms
2025-11-12 13:58:26.842 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/recurring/trigger - application/x-www-form-urlencoded; charset=UTF-8 29
2025-11-12 13:58:26.948 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/recurring/trigger - 204 null null 107.176ms
2025-11-12 13:58:26.981 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/hangfire/recurring/recurring - null null
2025-11-12 13:58:27.080 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[ConsecutiveFailures], [p].[CreatedAt], [p].[Description], [p].[DestinationAccount], [p].[FrequencyId], [p].[LastExecutionDate], [p].[LastFailureReason], [p].[NextExecutionDate], [p].[PayeeName], [p].[StartDate], [p].[StatusId], [p].[Title], [p].[UpdatedAt], [p].[UserSid]
FROM [Payments] AS [p]
INNER JOIN [Status] AS [s] ON [p].[StatusId] = [s].[Id]
WHERE [s].[Name] = N'Active' AND [p].[NextExecutionDate] <= GETUTCDATE()
2025-11-12 13:58:27.087 +02:00 [INF] Found 3 due payments to process at "2025-11-12T11:58:27.0877682Z". Payment IDs: 1,2,3
2025-11-12 13:58:50.743 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/hangfire/recurring/recurring - 200 null text/html 23765.276ms
2025-11-12 13:58:50.815 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__payment_UserSid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[Sid] = @__payment_UserSid_0
2025-11-12 13:58:50.836 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 13:58:50.836 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 13:59:32.407 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 41572.1177ms
2025-11-12 13:59:32.449 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentExecutions] ([Amount], [ExecutedAt], [FailureReason], [PaymentId], [RecurringPaymentId], [Success])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Payments] SET [ConsecutiveFailures] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-11-12 13:59:32.466 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41630.4287ms
2025-11-12 13:59:32.472 +02:00 [ERR] Error processing payment 1 for user "89a71d20-2447-4b1c-822d-51d703b86655"
System.Exception: User account not found.
   at PaymentScheduler.Application.Services.Hangfire.PaymentJob.ProcessPayment(Payment payment) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\Hangfire\PaymentJob.cs:line 56
2025-11-12 13:59:34.462 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__payment_UserSid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[Sid] = @__payment_UserSid_0
2025-11-12 13:59:34.508 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentExecutions] ([Amount], [ExecutedAt], [FailureReason], [PaymentId], [RecurringPaymentId], [Success])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Payments] SET [ConsecutiveFailures] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-11-12 13:59:34.517 +02:00 [ERR] Error processing payment 2 for user "4bcb4a89-e640-40b3-994e-73699ecd530f"
System.Exception: User account not found.
   at PaymentScheduler.Application.Services.Hangfire.PaymentJob.ProcessPayment(Payment payment) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\Hangfire\PaymentJob.cs:line 56
2025-11-12 13:59:34.524 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__payment_UserSid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[Sid] = @__payment_UserSid_0
2025-11-12 13:59:34.566 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentExecutions] ([Amount], [ExecutedAt], [FailureReason], [PaymentId], [RecurringPaymentId], [Success])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Payments] SET [ConsecutiveFailures] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-11-12 13:59:34.573 +02:00 [ERR] Error processing payment 3 for user "22713f1a-9963-432e-91b0-51d4376aa007"
System.Exception: User account not found.
   at PaymentScheduler.Application.Services.Hangfire.PaymentJob.ProcessPayment(Payment payment) in C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.Application\Services\Hangfire\PaymentJob.cs:line 56
2025-11-12 13:59:35.354 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:59:35.393 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 39.7442ms
2025-11-12 13:59:38.353 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:59:38.366 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 14.3879ms
2025-11-12 13:59:41.356 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:59:41.364 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 8.3451ms
2025-11-12 13:59:44.345 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:59:44.355 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 11.2057ms
2025-11-12 13:59:47.346 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:59:47.361 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 16.2332ms
2025-11-12 13:59:50.340 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:59:50.355 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 15.4384ms
2025-11-12 13:59:53.348 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:59:53.367 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 20.5362ms
2025-11-12 13:59:56.356 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:59:56.371 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 15.0395ms
2025-11-12 13:59:59.350 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 13:59:59.367 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 17.5385ms
2025-11-12 14:00:02.346 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:02.358 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 11.1974ms
2025-11-12 14:00:05.345 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:05.360 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 15.0932ms
2025-11-12 14:00:08.347 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:13.259 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 4911.9649ms
2025-11-12 14:00:15.354 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:15.372 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 19.488ms
2025-11-12 14:00:18.355 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:18.369 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 14.7225ms
2025-11-12 14:00:21.346 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:21.356 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 9.2078ms
2025-11-12 14:00:24.346 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:24.359 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 12.8293ms
2025-11-12 14:00:27.349 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:27.360 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 11.9247ms
2025-11-12 14:00:30.355 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:30.368 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 13.4845ms
2025-11-12 14:00:33.352 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:33.367 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 16.0151ms
2025-11-12 14:00:36.340 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:36.354 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 14.793ms
2025-11-12 14:00:39.356 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:39.369 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 13.1899ms
2025-11-12 14:00:41.382 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:41.393 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 10.9802ms
2025-11-12 14:00:43.414 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:43.425 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 11.9057ms
2025-11-12 14:00:43.802 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/recurring/trigger - application/x-www-form-urlencoded; charset=UTF-8 29
2025-11-12 14:00:43.910 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/recurring/trigger - 204 null null 109.4438ms
2025-11-12 14:00:43.951 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/hangfire/recurring/recurring - null null
2025-11-12 14:00:43.970 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[ConsecutiveFailures], [p].[CreatedAt], [p].[Description], [p].[DestinationAccount], [p].[FrequencyId], [p].[LastExecutionDate], [p].[LastFailureReason], [p].[NextExecutionDate], [p].[PayeeName], [p].[StartDate], [p].[StatusId], [p].[Title], [p].[UpdatedAt], [p].[UserSid]
FROM [Payments] AS [p]
INNER JOIN [Status] AS [s] ON [p].[StatusId] = [s].[Id]
WHERE [s].[Name] = N'Active' AND [p].[NextExecutionDate] <= GETUTCDATE()
2025-11-12 14:00:43.988 +02:00 [INF] Found 3 due payments to process at "2025-11-12T12:00:43.9887036Z". Payment IDs: 1,2,3
2025-11-12 14:00:44.006 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__payment_UserSid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[Sid] = @__payment_UserSid_0
2025-11-12 14:00:44.036 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/hangfire/recurring/recurring - 200 null text/html 85.2588ms
2025-11-12 14:00:44.082 +02:00 [INF] Payment 1 for user "8197d99f-d2d1-4ef5-b9a2-3d53e58a2090" executed successfully
2025-11-12 14:00:44.083 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 14:00:44.086 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 14:00:44.107 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 22.8534ms
2025-11-12 14:00:44.121 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.0445ms
2025-11-12 14:00:44.146 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p10='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentExecutions] ([Amount], [ExecutedAt], [FailureReason], [PaymentId], [RecurringPaymentId], [Success])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Payments] SET [ConsecutiveFailures] = @p6, [LastExecutionDate] = @p7, [NextExecutionDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
UPDATE [UserAccounts] SET [Balance] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-11-12 14:00:44.160 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__payment_UserSid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[Sid] = @__payment_UserSid_0
2025-11-12 14:00:44.171 +02:00 [INF] Payment 2 for user "01041790-7e28-4ee0-8891-95b8e1643f8e" executed successfully
2025-11-12 14:00:44.180 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p10='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentExecutions] ([Amount], [ExecutedAt], [FailureReason], [PaymentId], [RecurringPaymentId], [Success])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Payments] SET [ConsecutiveFailures] = @p6, [LastExecutionDate] = @p7, [NextExecutionDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
UPDATE [UserAccounts] SET [Balance] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-11-12 14:00:44.195 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__payment_UserSid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[Sid] = @__payment_UserSid_0
2025-11-12 14:00:44.201 +02:00 [INF] Payment 3 for user "ffd1d752-711c-4742-8ad0-633b7812703a" executed successfully
2025-11-12 14:00:44.209 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p10='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentExecutions] ([Amount], [ExecutedAt], [FailureReason], [PaymentId], [RecurringPaymentId], [Success])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Payments] SET [ConsecutiveFailures] = @p6, [LastExecutionDate] = @p7, [NextExecutionDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
UPDATE [UserAccounts] SET [Balance] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-11-12 14:00:46.132 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:46.155 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 23.0844ms
2025-11-12 14:00:48.356 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:48.368 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 12.1158ms
2025-11-12 14:00:51.349 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:51.364 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 15.7022ms
2025-11-12 14:00:54.356 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:54.366 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 10.8719ms
2025-11-12 14:00:57.351 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:00:57.359 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 10.3695ms
2025-11-12 14:01:00.357 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:00.370 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 12.438ms
2025-11-12 14:01:03.345 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:03.358 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 13.5787ms
2025-11-12 14:01:06.352 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:06.366 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 15.8256ms
2025-11-12 14:01:09.340 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:09.355 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 14.8004ms
2025-11-12 14:01:12.350 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:12.363 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 13.7339ms
2025-11-12 14:01:15.346 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:18.868 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 3523.3074ms
2025-11-12 14:01:21.352 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:21.363 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 11.6748ms
2025-11-12 14:01:24.355 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:24.366 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 12.5988ms
2025-11-12 14:01:27.351 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:27.363 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 12.9126ms
2025-11-12 14:01:30.343 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:30.354 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 10.3772ms
2025-11-12 14:01:33.351 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:33.361 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 10.1235ms
2025-11-12 14:01:36.355 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:36.370 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 15.9229ms
2025-11-12 14:01:38.391 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:38.417 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 25.4596ms
2025-11-12 14:01:40.430 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:40.450 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 20.0773ms
2025-11-12 14:01:42.464 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:42.484 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 21.3732ms
2025-11-12 14:01:43.391 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/recurring/trigger - application/x-www-form-urlencoded; charset=UTF-8 29
2025-11-12 14:01:43.469 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/recurring/trigger - 204 null null 80.312ms
2025-11-12 14:01:43.494 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/hangfire/recurring/recurring - null null
2025-11-12 14:01:43.523 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[ConsecutiveFailures], [p].[CreatedAt], [p].[Description], [p].[DestinationAccount], [p].[FrequencyId], [p].[LastExecutionDate], [p].[LastFailureReason], [p].[NextExecutionDate], [p].[PayeeName], [p].[StartDate], [p].[StatusId], [p].[Title], [p].[UpdatedAt], [p].[UserSid]
FROM [Payments] AS [p]
INNER JOIN [Status] AS [s] ON [p].[StatusId] = [s].[Id]
WHERE [s].[Name] = N'Active' AND [p].[NextExecutionDate] <= GETUTCDATE()
2025-11-12 14:01:43.544 +02:00 [INF] Found 1 due payments to process at "2025-11-12T12:01:43.5442052Z". Payment IDs: 1
2025-11-12 14:01:43.586 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__payment_UserSid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[Sid] = @__payment_UserSid_0
2025-11-12 14:01:43.609 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/hangfire/recurring/recurring - 200 null text/html 115.6332ms
2025-11-12 14:01:43.613 +02:00 [INF] Payment 1 for user "8197d99f-d2d1-4ef5-b9a2-3d53e58a2090" executed successfully
2025-11-12 14:01:43.639 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 14:01:43.639 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 14:01:43.642 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentExecutions] ([Amount], [ExecutedAt], [FailureReason], [PaymentId], [RecurringPaymentId], [Success])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Payments] SET [LastExecutionDate] = @p6, [NextExecutionDate] = @p7
OUTPUT 1
WHERE [Id] = @p8;
UPDATE [UserAccounts] SET [Balance] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-11-12 14:01:43.650 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 11.1457ms
2025-11-12 14:01:43.712 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.2656ms
2025-11-12 14:01:45.685 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:45.704 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 18.9556ms
2025-11-12 14:01:47.723 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:47.733 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 11.5386ms
2025-11-12 14:01:49.746 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:49.762 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 16.6165ms
2025-11-12 14:01:51.780 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:51.799 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 21.5788ms
2025-11-12 14:01:53.831 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:53.847 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 16.623ms
2025-11-12 14:01:55.863 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:55.875 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 12.4769ms
2025-11-12 14:01:57.907 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:57.917 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 9.9761ms
2025-11-12 14:01:59.933 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:01:59.943 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 9.9072ms
2025-11-12 14:02:02.012 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:02.029 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 16.8081ms
2025-11-12 14:02:04.049 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:04.068 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 20.1871ms
2025-11-12 14:02:06.084 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:06.095 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 11.179ms
2025-11-12 14:02:07.904 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/recurring/trigger - application/x-www-form-urlencoded; charset=UTF-8 29
2025-11-12 14:02:07.982 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/recurring/trigger - 204 null null 79.0058ms
2025-11-12 14:02:07.999 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[ConsecutiveFailures], [p].[CreatedAt], [p].[Description], [p].[DestinationAccount], [p].[FrequencyId], [p].[LastExecutionDate], [p].[LastFailureReason], [p].[NextExecutionDate], [p].[PayeeName], [p].[StartDate], [p].[StatusId], [p].[Title], [p].[UpdatedAt], [p].[UserSid]
FROM [Payments] AS [p]
INNER JOIN [Status] AS [s] ON [p].[StatusId] = [s].[Id]
WHERE [s].[Name] = N'Active' AND [p].[NextExecutionDate] <= GETUTCDATE()
2025-11-12 14:02:08.007 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/hangfire/recurring/recurring - null null
2025-11-12 14:02:08.010 +02:00 [INF] Found 0 due payments to process at "2025-11-12T12:02:08.0105748Z". Payment IDs: 
2025-11-12 14:02:08.071 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/hangfire/recurring/recurring - 200 null text/html 64.7353ms
2025-11-12 14:02:08.123 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 14:02:08.126 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 14:02:08.163 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.837ms
2025-11-12 14:02:08.176 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 50.011ms
2025-11-12 14:02:10.202 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:10.229 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 27.1732ms
2025-11-12 14:02:12.242 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:12.254 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 12.6044ms
2025-11-12 14:02:14.267 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:14.282 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 14.714ms
2025-11-12 14:02:16.303 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:16.313 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 10.0283ms
2025-11-12 14:02:18.329 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:18.339 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 9.7591ms
2025-11-12 14:02:20.353 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:24.593 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 4239.5471ms
2025-11-12 14:02:26.610 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:26.629 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 19.1725ms
2025-11-12 14:02:28.639 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:28.650 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 11.5657ms
2025-11-12 14:02:30.666 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:30.677 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 11.4578ms
2025-11-12 14:02:32.684 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:32.694 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 10.8717ms
2025-11-12 14:02:34.709 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:34.723 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 15.2351ms
2025-11-12 14:02:36.737 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:36.747 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 9.9198ms
2025-11-12 14:02:38.763 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:38.774 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 12.1176ms
2025-11-12 14:02:40.786 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:40.793 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 8.1718ms
2025-11-12 14:02:42.813 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:42.829 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 17.4962ms
2025-11-12 14:02:44.851 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:44.860 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 9.1999ms
2025-11-12 14:02:46.876 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:46.886 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 10.9152ms
2025-11-12 14:02:48.908 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:48.916 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 8.2269ms
2025-11-12 14:02:50.929 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:50.950 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 21.8432ms
2025-11-12 14:02:52.959 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:52.970 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 11.0734ms
2025-11-12 14:02:54.934 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/recurring/trigger - application/x-www-form-urlencoded; charset=UTF-8 29
2025-11-12 14:02:54.982 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:54.996 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 14.5593ms
2025-11-12 14:02:55.025 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/recurring/trigger - 204 null null 92.6992ms
2025-11-12 14:02:55.049 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/hangfire/recurring/recurring - null null
2025-11-12 14:02:55.057 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[ConsecutiveFailures], [p].[CreatedAt], [p].[Description], [p].[DestinationAccount], [p].[FrequencyId], [p].[LastExecutionDate], [p].[LastFailureReason], [p].[NextExecutionDate], [p].[PayeeName], [p].[StartDate], [p].[StatusId], [p].[Title], [p].[UpdatedAt], [p].[UserSid]
FROM [Payments] AS [p]
INNER JOIN [Status] AS [s] ON [p].[StatusId] = [s].[Id]
WHERE [s].[Name] = N'Active' AND [p].[NextExecutionDate] <= GETUTCDATE()
2025-11-12 14:02:55.065 +02:00 [INF] Found 3 due payments to process at "2025-11-12T12:02:55.0656849Z". Payment IDs: 1,2,3
2025-11-12 14:02:55.075 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__payment_UserSid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[Sid] = @__payment_UserSid_0
2025-11-12 14:02:55.080 +02:00 [WRN] Payment 1 for user "8197d99f-d2d1-4ef5-b9a2-3d53e58a2090" failed: insufficient funds
2025-11-12 14:02:55.103 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentExecutions] ([Amount], [ExecutedAt], [FailureReason], [PaymentId], [RecurringPaymentId], [Success])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Payments] SET [ConsecutiveFailures] = @p6, [NextExecutionDate] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-11-12 14:02:55.115 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__payment_UserSid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[Sid] = @__payment_UserSid_0
2025-11-12 14:02:55.143 +02:00 [INF] Payment 2 for user "01041790-7e28-4ee0-8891-95b8e1643f8e" executed successfully
2025-11-12 14:02:55.154 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/hangfire/recurring/recurring - 200 null text/html 105.2938ms
2025-11-12 14:02:55.167 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentExecutions] ([Amount], [ExecutedAt], [FailureReason], [PaymentId], [RecurringPaymentId], [Success])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Payments] SET [LastExecutionDate] = @p6, [NextExecutionDate] = @p7
OUTPUT 1
WHERE [Id] = @p8;
UPDATE [UserAccounts] SET [Balance] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-11-12 14:02:55.184 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 14:02:55.185 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 14:02:55.185 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__payment_UserSid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[Sid] = @__payment_UserSid_0
2025-11-12 14:02:55.201 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 17.2667ms
2025-11-12 14:02:55.244 +02:00 [INF] Payment 3 for user "ffd1d752-711c-4742-8ad0-633b7812703a" executed successfully
2025-11-12 14:02:55.259 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 74.605ms
2025-11-12 14:02:55.271 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentExecutions] ([Amount], [ExecutedAt], [FailureReason], [PaymentId], [RecurringPaymentId], [Success])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Payments] SET [LastExecutionDate] = @p6, [NextExecutionDate] = @p7
OUTPUT 1
WHERE [Id] = @p8;
UPDATE [UserAccounts] SET [Balance] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-11-12 14:02:57.236 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:57.244 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 9.8983ms
2025-11-12 14:02:59.259 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:02:59.273 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 13.5897ms
2025-11-12 14:03:01.283 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:03:01.292 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 10.7506ms
2025-11-12 14:03:03.310 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:03:03.324 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 15.3956ms
2025-11-12 14:03:05.342 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:03:05.358 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 15.7619ms
2025-11-12 14:03:06.075 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/recurring/trigger - application/x-www-form-urlencoded; charset=UTF-8 29
2025-11-12 14:03:06.123 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/recurring/trigger - 204 null null 47.8024ms
2025-11-12 14:03:06.144 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[ConsecutiveFailures], [p].[CreatedAt], [p].[Description], [p].[DestinationAccount], [p].[FrequencyId], [p].[LastExecutionDate], [p].[LastFailureReason], [p].[NextExecutionDate], [p].[PayeeName], [p].[StartDate], [p].[StatusId], [p].[Title], [p].[UpdatedAt], [p].[UserSid]
FROM [Payments] AS [p]
INNER JOIN [Status] AS [s] ON [p].[StatusId] = [s].[Id]
WHERE [s].[Name] = N'Active' AND [p].[NextExecutionDate] <= GETUTCDATE()
2025-11-12 14:03:06.161 +02:00 [INF] Found 2 due payments to process at "2025-11-12T12:03:06.1612256Z". Payment IDs: 2,3
2025-11-12 14:03:06.175 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__payment_UserSid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[Sid] = @__payment_UserSid_0
2025-11-12 14:03:06.179 +02:00 [INF] Payment 2 for user "01041790-7e28-4ee0-8891-95b8e1643f8e" executed successfully
2025-11-12 14:03:06.181 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/hangfire/recurring/recurring - null null
2025-11-12 14:03:06.196 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentExecutions] ([Amount], [ExecutedAt], [FailureReason], [PaymentId], [RecurringPaymentId], [Success])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Payments] SET [LastExecutionDate] = @p6, [NextExecutionDate] = @p7
OUTPUT 1
WHERE [Id] = @p8;
UPDATE [UserAccounts] SET [Balance] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-11-12 14:03:06.215 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__payment_UserSid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Balance], [u].[CreatedAt], [u].[Currency], [u].[IsActive], [u].[Password], [u].[PhoneNumber], [u].[Sid], [u].[UserName]
FROM [UserAccounts] AS [u]
WHERE [u].[Sid] = @__payment_UserSid_0
2025-11-12 14:03:06.236 +02:00 [INF] Payment 3 for user "ffd1d752-711c-4742-8ad0-633b7812703a" executed successfully
2025-11-12 14:03:06.236 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/hangfire/recurring/recurring - 200 null text/html 55.5015ms
2025-11-12 14:03:06.250 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentExecutions] ([Amount], [ExecutedAt], [FailureReason], [PaymentId], [RecurringPaymentId], [Success])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Payments] SET [LastExecutionDate] = @p6, [NextExecutionDate] = @p7
OUTPUT 1
WHERE [Id] = @p8;
UPDATE [UserAccounts] SET [Balance] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-11-12 14:03:06.275 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 14:03:06.282 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 14:03:06.302 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 21.0164ms
2025-11-12 14:03:06.310 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.7649ms
2025-11-12 14:03:08.318 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:03:08.334 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 16.7045ms
2025-11-12 14:03:10.350 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:03:10.363 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 13.9288ms
2025-11-12 14:03:12.375 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:03:12.389 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 14.257ms
2025-11-12 14:03:14.398 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:03:14.409 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 11.3474ms
2025-11-12 14:03:16.430 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:03:16.439 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 9.7441ms
2025-11-12 14:03:18.451 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:03:18.470 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 20.0565ms
2025-11-12 14:03:20.486 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:03:20.495 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 9.6377ms
2025-11-12 14:03:22.511 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:03:22.528 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 17.1247ms
2025-11-12 14:03:24.547 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:03:24.557 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 10.8945ms
2025-11-12 14:03:26.568 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2025-11-12 14:03:26.648 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7262/hangfire/recurring/stats - 200 null application/json 80.5847ms
2025-11-12 17:20:22.450 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserAccounts] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 17:20:22.596 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Frequency] AS [f]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 17:20:22.617 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Status] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 17:20:22.633 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Payments] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-12 17:20:22.953 +02:00 [INF] Start installing Hangfire SQL objects...
2025-11-12 17:20:28.396 +02:00 [INF] Hangfire SQL objects installed.
2025-11-12 17:20:28.967 +02:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-12 17:20:29.419 +02:00 [INF] Now listening on: https://localhost:7262
2025-11-12 17:20:29.420 +02:00 [INF] Now listening on: http://localhost:5012
2025-11-12 17:20:29.648 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-8DBDUBG@Hangfire'
2025-11-12 17:20:29.651 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-11-12 17:20:29.655 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-11-12 17:20:29.704 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-12 17:20:29.708 +02:00 [INF] Hosting environment: Development
2025-11-12 17:20:29.711 +02:00 [INF] Content root path: C:\Users\User\source\repos\PaymentScheduler\PaymentScheduler.API
2025-11-12 17:20:29.752 +02:00 [INF] Server desktop-8dbdubg:30688:9ff98a79 successfully announced in 51.6398 ms
2025-11-12 17:20:29.765 +02:00 [INF] Server desktop-8dbdubg:30688:9ff98a79 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-11-12 17:20:29.812 +02:00 [INF] 1 servers were removed due to timeout
2025-11-12 17:20:29.961 +02:00 [INF] Server desktop-8dbdubg:30688:9ff98a79 all the dispatchers started
2025-11-12 17:20:30.551 +02:00 [ERR] Failed to process the job '146': an exception occurred.
System.IO.FileNotFoundException: Could not load file or assembly 'NotificationSystem.Application, Culture=neutral, PublicKeyToken=null'. The system cannot find the file specified.
File name: 'NotificationSystem.Application, Culture=neutral, PublicKeyToken=null'
   at System.Reflection.RuntimeAssembly.InternalLoad(AssemblyName assemblyName, StackCrawlMark& stackMark, AssemblyLoadContext assemblyLoadContext, RuntimeAssembly requestingAssembly, Boolean throwOnFileNotFound)
   at System.Reflection.Assembly.Load(AssemblyName assemblyRef)
   at Hangfire.Common.TypeHelper.AssemblyResolver(String assemblyString) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 236
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.TypeHelper.CachedAssemblyResolver(AssemblyName assemblyName) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 195
   at System.Reflection.TypeNameParser.ResolveAssembly(String assemblyName)
   at System.Reflection.TypeNameParser.GetType(String typeName, ReadOnlySpan`1 nestedTypeNames, String assemblyNameIfAny)
   at System.Reflection.TypeNameParser.Parse()
   at System.Reflection.TypeNameParser.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Assembly requestingAssembly, Boolean throwOnError, Boolean ignoreCase, Boolean extensibleParser)
   at System.Type.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Boolean throwOnError)
   at Hangfire.Common.TypeHelper.<>c.<DefaultTypeResolver>b__20_0(String name) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 83
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.TypeHelper.DefaultTypeResolver(String typeName) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 75
   at Hangfire.Storage.InvocationData.<>c.<CachedDeserializeMethod>b__33_0(MethodDeserializerCacheKey key) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 339
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Storage.InvocationData.CachedDeserializeMethod(Func`2 typeResolver, String typeName, String methodName, String parameterTypes, Type& type, MethodInfo& methodInfo) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 335
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 100
2025-11-12 17:20:30.969 +02:00 [ERR] Failed to process the job '148': an exception occurred.
System.IO.FileNotFoundException: Could not load file or assembly 'NotificationSystem.Application, Culture=neutral, PublicKeyToken=null'. The system cannot find the file specified.
File name: 'NotificationSystem.Application, Culture=neutral, PublicKeyToken=null'
   at System.Reflection.RuntimeAssembly.InternalLoad(AssemblyName assemblyName, StackCrawlMark& stackMark, AssemblyLoadContext assemblyLoadContext, RuntimeAssembly requestingAssembly, Boolean throwOnFileNotFound)
   at System.Reflection.Assembly.Load(AssemblyName assemblyRef)
   at Hangfire.Common.TypeHelper.AssemblyResolver(String assemblyString) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 236
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.TypeHelper.CachedAssemblyResolver(AssemblyName assemblyName) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 195
   at System.Reflection.TypeNameParser.ResolveAssembly(String assemblyName)
   at System.Reflection.TypeNameParser.GetType(String typeName, ReadOnlySpan`1 nestedTypeNames, String assemblyNameIfAny)
   at System.Reflection.TypeNameParser.Parse()
   at System.Reflection.TypeNameParser.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Assembly requestingAssembly, Boolean throwOnError, Boolean ignoreCase, Boolean extensibleParser)
   at System.Type.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Boolean throwOnError)
   at Hangfire.Common.TypeHelper.<>c.<DefaultTypeResolver>b__20_0(String name) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 83
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.TypeHelper.DefaultTypeResolver(String typeName) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 75
   at Hangfire.Storage.InvocationData.<>c.<CachedDeserializeMethod>b__33_0(MethodDeserializerCacheKey key) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 339
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Storage.InvocationData.CachedDeserializeMethod(Func`2 typeResolver, String typeName, String methodName, String parameterTypes, Type& type, MethodInfo& methodInfo) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 335
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 100
2025-11-12 17:20:31.029 +02:00 [ERR] Failed to process the job '147': an exception occurred.
System.IO.FileNotFoundException: Could not load file or assembly 'NotificationSystem.Application, Culture=neutral, PublicKeyToken=null'. The system cannot find the file specified.
File name: 'NotificationSystem.Application, Culture=neutral, PublicKeyToken=null'
   at System.Reflection.RuntimeAssembly.InternalLoad(AssemblyName assemblyName, StackCrawlMark& stackMark, AssemblyLoadContext assemblyLoadContext, RuntimeAssembly requestingAssembly, Boolean throwOnFileNotFound)
   at System.Reflection.Assembly.Load(AssemblyName assemblyRef)
   at Hangfire.Common.TypeHelper.AssemblyResolver(String assemblyString) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 236
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.TypeHelper.CachedAssemblyResolver(AssemblyName assemblyName) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 195
   at System.Reflection.TypeNameParser.ResolveAssembly(String assemblyName)
   at System.Reflection.TypeNameParser.GetType(String typeName, ReadOnlySpan`1 nestedTypeNames, String assemblyNameIfAny)
   at System.Reflection.TypeNameParser.Parse()
   at System.Reflection.TypeNameParser.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Assembly requestingAssembly, Boolean throwOnError, Boolean ignoreCase, Boolean extensibleParser)
   at System.Type.GetType(String typeName, Func`2 assemblyResolver, Func`4 typeResolver, Boolean throwOnError)
   at Hangfire.Common.TypeHelper.<>c.<DefaultTypeResolver>b__20_0(String name) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 83
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.TypeHelper.DefaultTypeResolver(String typeName) in C:\projects\hangfire-525\src\Hangfire.Core\Common\TypeHelper.cs:line 75
   at Hangfire.Storage.InvocationData.<>c.<CachedDeserializeMethod>b__33_0(MethodDeserializerCacheKey key) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 339
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Storage.InvocationData.CachedDeserializeMethod(Func`2 typeResolver, String typeName, String methodName, String parameterTypes, Type& type, MethodInfo& methodInfo) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 335
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 100
2025-11-12 17:20:32.176 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_vs/browserLink - null null
2025-11-12 17:20:32.176 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - null null
2025-11-12 17:20:32.468 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 329.5988ms
2025-11-12 17:20:32.784 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/_vs/browserLink - 200 null text/javascript; charset=UTF-8 684.0003ms
2025-11-12 17:20:32.870 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - null null
2025-11-12 17:20:33.050 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7262/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 180.7364ms
